<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Plots Ceteris Paribus Profiles in D3 with r2d3 Package. — plotD3 • ingredients</title><!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png"><link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png"><link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png"><link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png"><link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png"><link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png"><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- dalexverse --><link href="../dalexverse.css" rel="stylesheet"><link href="../dalexverse-2.css" rel="stylesheet"><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Plots Ceteris Paribus Profiles in D3 with r2d3 Package. — plotD3"><meta property="og:description" content="Function plotD3.ceteris_paribus_explainer plots Individual Variable Profiles for selected observations.
It uses output from ceteris_paribus function.
Various parameters help to decide what should be plotted, profiles, aggregated profiles, points or rugs.
Find more details in Ceteris Paribus Chapter."><meta property="og:image" content="/logo.png"><meta name="robots" content="noindex"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--><!-- google analytics --><script async src="https://www.googletagmanager.com/gtag/js?id=UA-5650686-14"></script><script>
 window.dataLayer = window.dataLayer || [];
 function gtag(){dataLayer.push(arguments);}
 gtag('js', new Date());

 gtag('config', 'UA-5650686-14');
</script></head><body data-spy="scroll" data-target="#toc">
    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>

      <div class="navbar-brand-container">
        <a class="navbar-brand" href="../index.html">ingredients</a>
        <div class="info">
          <span class="partof">part of the <a href="https://github.com/ModelOriented/DrWhy" class="external-link">DrWhy.AI</a>
           developed by the <a href="https://mi2.mini.pw.edu.pl/" class="external-link">MI^2 DataLab</a> </span>
          <span class="version version-default">2.2.1</span>
        </div>
      </div>
    </div>
    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav navbar-right"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu"><li>
      <a href="../articles/vignette_describe.html">Explanations in natural language</a>
    </li>
    <li>
      <a href="../articles/vignette_simulated.html">Simulated data, real problem</a>
    </li>
    <li>
      <a href="../articles/vignette_titanic.html">General introduction: Survival on the RMS Titanic</a>
    </li>
  </ul></li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
        <li>
  <a href="https://github.com/ModelOriented/ingredients/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Plots Ceteris Paribus Profiles in D3 with r2d3 Package.</h1>
    <small class="dont-index">Source: <a href="https://github.com/ModelOriented/ingredients/blob/HEAD/R/plotD3_ceteris_paribus.R" class="external-link"><code>R/plotD3_ceteris_paribus.R</code></a></small>
    <div class="hidden name"><code>plotD3_ceteris_paribus.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Function <code>plotD3.ceteris_paribus_explainer</code> plots Individual Variable Profiles for selected observations.
It uses output from <code><a href="ceteris_paribus.html">ceteris_paribus</a></code> function.
Various parameters help to decide what should be plotted, profiles, aggregated profiles, points or rugs.</p>
<p>Find more details in <a href="https://ema.drwhy.ai/ceterisParibus.html" class="external-link">Ceteris Paribus Chapter</a>.</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">plotD3</span><span class="op">(</span><span class="va">x</span>, <span class="va">...</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># S3 method for ceteris_paribus_explainer</span></span>
<span><span class="fu">plotD3</span><span class="op">(</span></span>
<span>  <span class="va">x</span>,</span>
<span>  <span class="va">...</span>,</span>
<span>  size <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  alpha <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  color <span class="op">=</span> <span class="st">"#46bac2"</span>,</span>
<span>  variable_type <span class="op">=</span> <span class="st">"numerical"</span>,</span>
<span>  facet_ncol <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  scale_plot <span class="op">=</span> <span class="cn">FALSE</span>,</span>
<span>  variables <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  chart_title <span class="op">=</span> <span class="st">"Ceteris Paribus Profiles"</span>,</span>
<span>  label_margin <span class="op">=</span> <span class="fl">60</span>,</span>
<span>  show_observations <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  show_rugs <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>x</dt>
<dd><p>a ceteris paribus explainer produced with function <code><a href="ceteris_paribus.html">ceteris_paribus()</a></code></p></dd>


<dt>...</dt>
<dd><p>other explainers that shall be plotted together</p></dd>


<dt>size</dt>
<dd><p>a numeric. Set width of lines</p></dd>


<dt>alpha</dt>
<dd><p>a numeric between <code>0</code> and <code>1</code>. Opacity of lines</p></dd>


<dt>color</dt>
<dd><p>a character.  Set line color</p></dd>


<dt>variable_type</dt>
<dd><p>a character. If "numerical" then only numerical variables will be plotted.
If "categorical" then only categorical variables will be plotted.</p></dd>


<dt>facet_ncol</dt>
<dd><p>number of columns for the <code><a href="https://ggplot2.tidyverse.org/reference/facet_wrap.html" class="external-link">facet_wrap</a></code></p></dd>


<dt>scale_plot</dt>
<dd><p>a logical. If <code>TRUE</code>, the height of plot scales with window size. By default it's <code>FALSE</code></p></dd>


<dt>variables</dt>
<dd><p>if not <code>NULL</code> then only <code>variables</code> will be presented</p></dd>


<dt>chart_title</dt>
<dd><p>a character. Set custom title</p></dd>


<dt>label_margin</dt>
<dd><p>a numeric. Set width of label margins in <code>categorical</code> type</p></dd>


<dt>show_observations</dt>
<dd><p>a logical. Adds observations layer to a plot. By default it's <code>TRUE</code></p></dd>


<dt>show_rugs</dt>
<dd><p>a logical. Adds rugs layer to a plot. By default it's <code>TRUE</code></p></dd>

</dl></div>
    <div id="value">
    <h2>Value</h2>
    

<p>a <code>r2d3</code> object.</p>
    </div>
    <div id="references">
    <h2>References</h2>
    <p>Explanatory Model Analysis. Explore, Explain, and Examine Predictive Models. <a href="https://ema.drwhy.ai/" class="external-link">https://ema.drwhy.ai/</a></p>
    </div>

    <div id="ref-examples">
    <h2>Examples</h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://modeloriented.github.io/DALEX/" class="external-link">"DALEX"</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://ModelOriented.github.io/ingredients/" class="external-link">"ingredients"</a></span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="st"><a href="https://github.com/imbs-hl/ranger" class="external-link">"ranger"</a></span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="co"># \donttest{</span></span></span>
<span class="r-in"><span><span class="va">model_titanic_rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/pkg/ranger/man/ranger.html" class="external-link">ranger</a></span><span class="op">(</span><span class="va">survived</span> <span class="op">~</span><span class="va">.</span>, data <span class="op">=</span> <span class="va">titanic_imputed</span>, probability <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">explain_titanic_rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://modeloriented.github.io/DALEX/reference/explain.html" class="external-link">explain</a></span><span class="op">(</span><span class="va">model_titanic_rf</span>,</span></span>
<span class="r-in"><span>                              data <span class="op">=</span> <span class="va">titanic_imputed</span><span class="op">[</span>,<span class="op">-</span><span class="fl">8</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                              y <span class="op">=</span> <span class="va">titanic_imputed</span><span class="op">[</span>,<span class="fl">8</span><span class="op">]</span>,</span></span>
<span class="r-in"><span>                              label <span class="op">=</span> <span class="st">"ranger forest"</span>,</span></span>
<span class="r-in"><span>                              verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">selected_passangers</span> <span class="op">&lt;-</span> <span class="fu"><a href="select_sample.html">select_sample</a></span><span class="op">(</span><span class="va">titanic_imputed</span>, n <span class="op">=</span> <span class="fl">10</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cp_rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="ceteris_paribus.html">ceteris_paribus</a></span><span class="op">(</span><span class="va">explain_titanic_rf</span>, <span class="va">selected_passangers</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">plotD3</span><span class="op">(</span><span class="va">cp_rf</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"age"</span>,<span class="st">"parch"</span>,<span class="st">"fare"</span>,<span class="st">"sibsp"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     facet_ncol <span class="op">=</span> <span class="fl">2</span>, scale_plot <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<div id="htmlwidget-18fb64d65b3a11b96481" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget "></div>
<script type="application/json" data-for="htmlwidget-18fb64d65b3a11b96481">{"x":{"data":[{"age":{"1225":[{"xhat":0.1667,"yhat":0.4853,"id":"1225","vname":"age"},{"xhat":2,"yhat":0.5493,"id":"1225","vname":"age"},{"xhat":4,"yhat":0.5625,"id":"1225","vname":"age"},{"xhat":7,"yhat":0.4438,"id":"1225","vname":"age"},{"xhat":9,"yhat":0.3936,"id":"1225","vname":"age"},{"xhat":13,"yhat":0.2094,"id":"1225","vname":"age"},{"xhat":15.36,"yhat":0.1262,"id":"1225","vname":"age"},{"xhat":17,"yhat":0.1161,"id":"1225","vname":"age"},{"xhat":18,"yhat":0.1197,"id":"1225","vname":"age"},{"xhat":19,"yhat":0.1263,"id":"1225","vname":"age"},{"xhat":20,"yhat":0.1514,"id":"1225","vname":"age"},{"xhat":21,"yhat":0.1537,"id":"1225","vname":"age"},{"xhat":22,"yhat":0.1399,"id":"1225","vname":"age"},{"xhat":23,"yhat":0.1334,"id":"1225","vname":"age"},{"xhat":24,"yhat":0.1424,"id":"1225","vname":"age"},{"xhat":25,"yhat":0.1437,"id":"1225","vname":"age"},{"xhat":26,"yhat":0.1415,"id":"1225","vname":"age"},{"xhat":27,"yhat":0.1361,"id":"1225","vname":"age"},{"xhat":28,"yhat":0.1306,"id":"1225","vname":"age"},{"xhat":29,"yhat":0.1432,"id":"1225","vname":"age"},{"xhat":30,"yhat":0.1327,"id":"1225","vname":"age"},{"xhat":31,"yhat":0.1247,"id":"1225","vname":"age"},{"xhat":32,"yhat":0.1163,"id":"1225","vname":"age"},{"xhat":33,"yhat":0.1022,"id":"1225","vname":"age"},{"xhat":34,"yhat":0.1013,"id":"1225","vname":"age"},{"xhat":35,"yhat":0.097,"id":"1225","vname":"age"},{"xhat":35.14,"yhat":0.0973,"id":"1225","vname":"age"},{"xhat":36,"yhat":0.1019,"id":"1225","vname":"age"},{"xhat":37,"yhat":0.0969,"id":"1225","vname":"age"},{"xhat":38,"yhat":0.1006,"id":"1225","vname":"age"},{"xhat":39,"yhat":0.1084,"id":"1225","vname":"age"},{"xhat":40,"yhat":0.0899,"id":"1225","vname":"age"},{"xhat":41,"yhat":0.0876,"id":"1225","vname":"age"},{"xhat":42,"yhat":0.0839,"id":"1225","vname":"age"},{"xhat":43,"yhat":0.0845,"id":"1225","vname":"age"},{"xhat":44,"yhat":0.0918,"id":"1225","vname":"age"},{"xhat":45,"yhat":0.0928,"id":"1225","vname":"age"},{"xhat":46,"yhat":0.0859,"id":"1225","vname":"age"},{"xhat":47.46,"yhat":0.0875,"id":"1225","vname":"age"},{"xhat":48,"yhat":0.0857,"id":"1225","vname":"age"},{"xhat":49,"yhat":0.0857,"id":"1225","vname":"age"},{"xhat":50,"yhat":0.0862,"id":"1225","vname":"age"},{"xhat":52,"yhat":0.0869,"id":"1225","vname":"age"},{"xhat":55,"yhat":0.0873,"id":"1225","vname":"age"},{"xhat":57.82,"yhat":0.0894,"id":"1225","vname":"age"},{"xhat":60,"yhat":0.0894,"id":"1225","vname":"age"},{"xhat":63,"yhat":0.0955,"id":"1225","vname":"age"},{"xhat":74,"yhat":0.0955,"id":"1225","vname":"age"}],"1270":[{"xhat":0.1667,"yhat":0.9278,"id":"1270","vname":"age"},{"xhat":2,"yhat":0.9245,"id":"1270","vname":"age"},{"xhat":4,"yhat":0.9614,"id":"1270","vname":"age"},{"xhat":7,"yhat":0.9461,"id":"1270","vname":"age"},{"xhat":9,"yhat":0.9414,"id":"1270","vname":"age"},{"xhat":13,"yhat":0.9482,"id":"1270","vname":"age"},{"xhat":15.36,"yhat":0.9475,"id":"1270","vname":"age"},{"xhat":17,"yhat":0.9434,"id":"1270","vname":"age"},{"xhat":18,"yhat":0.9305,"id":"1270","vname":"age"},{"xhat":19,"yhat":0.9302,"id":"1270","vname":"age"},{"xhat":20,"yhat":0.9429,"id":"1270","vname":"age"},{"xhat":21,"yhat":0.9559,"id":"1270","vname":"age"},{"xhat":22,"yhat":0.964,"id":"1270","vname":"age"},{"xhat":23,"yhat":0.9674,"id":"1270","vname":"age"},{"xhat":24,"yhat":0.9668,"id":"1270","vname":"age"},{"xhat":25,"yhat":0.9468,"id":"1270","vname":"age"},{"xhat":26,"yhat":0.9321,"id":"1270","vname":"age"},{"xhat":27,"yhat":0.949,"id":"1270","vname":"age"},{"xhat":28,"yhat":0.9496,"id":"1270","vname":"age"},{"xhat":29,"yhat":0.9366,"id":"1270","vname":"age"},{"xhat":30,"yhat":0.9473,"id":"1270","vname":"age"},{"xhat":31,"yhat":0.9407,"id":"1270","vname":"age"},{"xhat":32,"yhat":0.9349,"id":"1270","vname":"age"},{"xhat":33,"yhat":0.9395,"id":"1270","vname":"age"},{"xhat":34,"yhat":0.9192,"id":"1270","vname":"age"},{"xhat":35,"yhat":0.919,"id":"1270","vname":"age"},{"xhat":35.14,"yhat":0.9219,"id":"1270","vname":"age"},{"xhat":36,"yhat":0.9172,"id":"1270","vname":"age"},{"xhat":37,"yhat":0.9208,"id":"1270","vname":"age"},{"xhat":38,"yhat":0.9174,"id":"1270","vname":"age"},{"xhat":39,"yhat":0.9259,"id":"1270","vname":"age"},{"xhat":40,"yhat":0.9268,"id":"1270","vname":"age"},{"xhat":41,"yhat":0.9222,"id":"1270","vname":"age"},{"xhat":42,"yhat":0.9192,"id":"1270","vname":"age"},{"xhat":43,"yhat":0.9158,"id":"1270","vname":"age"},{"xhat":44,"yhat":0.9155,"id":"1270","vname":"age"},{"xhat":45,"yhat":0.9047,"id":"1270","vname":"age"},{"xhat":46,"yhat":0.91,"id":"1270","vname":"age"},{"xhat":47.46,"yhat":0.9203,"id":"1270","vname":"age"},{"xhat":48,"yhat":0.9195,"id":"1270","vname":"age"},{"xhat":49,"yhat":0.918,"id":"1270","vname":"age"},{"xhat":50,"yhat":0.905,"id":"1270","vname":"age"},{"xhat":52,"yhat":0.9068,"id":"1270","vname":"age"},{"xhat":55,"yhat":0.8989,"id":"1270","vname":"age"},{"xhat":57.82,"yhat":0.8649,"id":"1270","vname":"age"},{"xhat":60,"yhat":0.8481,"id":"1270","vname":"age"},{"xhat":63,"yhat":0.7545,"id":"1270","vname":"age"},{"xhat":74,"yhat":0.753,"id":"1270","vname":"age"}],"1430":[{"xhat":0.1667,"yhat":0.4288,"id":"1430","vname":"age"},{"xhat":2,"yhat":0.4683,"id":"1430","vname":"age"},{"xhat":4,"yhat":0.4759,"id":"1430","vname":"age"},{"xhat":7,"yhat":0.4249,"id":"1430","vname":"age"},{"xhat":9,"yhat":0.4059,"id":"1430","vname":"age"},{"xhat":13,"yhat":0.3204,"id":"1430","vname":"age"},{"xhat":15.36,"yhat":0.2006,"id":"1430","vname":"age"},{"xhat":17,"yhat":0.1874,"id":"1430","vname":"age"},{"xhat":18,"yhat":0.2095,"id":"1430","vname":"age"},{"xhat":19,"yhat":0.2158,"id":"1430","vname":"age"},{"xhat":20,"yhat":0.2257,"id":"1430","vname":"age"},{"xhat":21,"yhat":0.2681,"id":"1430","vname":"age"},{"xhat":22,"yhat":0.2456,"id":"1430","vname":"age"},{"xhat":23,"yhat":0.2448,"id":"1430","vname":"age"},{"xhat":24,"yhat":0.2461,"id":"1430","vname":"age"},{"xhat":25,"yhat":0.2388,"id":"1430","vname":"age"},{"xhat":26,"yhat":0.2217,"id":"1430","vname":"age"},{"xhat":27,"yhat":0.2224,"id":"1430","vname":"age"},{"xhat":28,"yhat":0.2322,"id":"1430","vname":"age"},{"xhat":29,"yhat":0.239,"id":"1430","vname":"age"},{"xhat":30,"yhat":0.2302,"id":"1430","vname":"age"},{"xhat":31,"yhat":0.225,"id":"1430","vname":"age"},{"xhat":32,"yhat":0.2324,"id":"1430","vname":"age"},{"xhat":33,"yhat":0.204,"id":"1430","vname":"age"},{"xhat":34,"yhat":0.1996,"id":"1430","vname":"age"},{"xhat":35,"yhat":0.1989,"id":"1430","vname":"age"},{"xhat":35.14,"yhat":0.1989,"id":"1430","vname":"age"},{"xhat":36,"yhat":0.1984,"id":"1430","vname":"age"},{"xhat":37,"yhat":0.1928,"id":"1430","vname":"age"},{"xhat":38,"yhat":0.1939,"id":"1430","vname":"age"},{"xhat":39,"yhat":0.2012,"id":"1430","vname":"age"},{"xhat":40,"yhat":0.2021,"id":"1430","vname":"age"},{"xhat":41,"yhat":0.195,"id":"1430","vname":"age"},{"xhat":42,"yhat":0.1895,"id":"1430","vname":"age"},{"xhat":43,"yhat":0.1911,"id":"1430","vname":"age"},{"xhat":44,"yhat":0.1866,"id":"1430","vname":"age"},{"xhat":45,"yhat":0.1837,"id":"1430","vname":"age"},{"xhat":46,"yhat":0.1841,"id":"1430","vname":"age"},{"xhat":47.46,"yhat":0.1828,"id":"1430","vname":"age"},{"xhat":48,"yhat":0.1789,"id":"1430","vname":"age"},{"xhat":49,"yhat":0.1806,"id":"1430","vname":"age"},{"xhat":50,"yhat":0.181,"id":"1430","vname":"age"},{"xhat":52,"yhat":0.2026,"id":"1430","vname":"age"},{"xhat":55,"yhat":0.1787,"id":"1430","vname":"age"},{"xhat":57.82,"yhat":0.1838,"id":"1430","vname":"age"},{"xhat":60,"yhat":0.185,"id":"1430","vname":"age"},{"xhat":63,"yhat":0.2519,"id":"1430","vname":"age"},{"xhat":74,"yhat":0.2488,"id":"1430","vname":"age"}],"1534":[{"xhat":0.1667,"yhat":0.4,"id":"1534","vname":"age"},{"xhat":2,"yhat":0.4376,"id":"1534","vname":"age"},{"xhat":4,"yhat":0.4415,"id":"1534","vname":"age"},{"xhat":7,"yhat":0.389,"id":"1534","vname":"age"},{"xhat":9,"yhat":0.3681,"id":"1534","vname":"age"},{"xhat":13,"yhat":0.2797,"id":"1534","vname":"age"},{"xhat":15.36,"yhat":0.1758,"id":"1534","vname":"age"},{"xhat":17,"yhat":0.1737,"id":"1534","vname":"age"},{"xhat":18,"yhat":0.2015,"id":"1534","vname":"age"},{"xhat":19,"yhat":0.2006,"id":"1534","vname":"age"},{"xhat":20,"yhat":0.2012,"id":"1534","vname":"age"},{"xhat":21,"yhat":0.2099,"id":"1534","vname":"age"},{"xhat":22,"yhat":0.2061,"id":"1534","vname":"age"},{"xhat":23,"yhat":0.2078,"id":"1534","vname":"age"},{"xhat":24,"yhat":0.2001,"id":"1534","vname":"age"},{"xhat":25,"yhat":0.2013,"id":"1534","vname":"age"},{"xhat":26,"yhat":0.1978,"id":"1534","vname":"age"},{"xhat":27,"yhat":0.1999,"id":"1534","vname":"age"},{"xhat":28,"yhat":0.2043,"id":"1534","vname":"age"},{"xhat":29,"yhat":0.2109,"id":"1534","vname":"age"},{"xhat":30,"yhat":0.2064,"id":"1534","vname":"age"},{"xhat":31,"yhat":0.2007,"id":"1534","vname":"age"},{"xhat":32,"yhat":0.2055,"id":"1534","vname":"age"},{"xhat":33,"yhat":0.1825,"id":"1534","vname":"age"},{"xhat":34,"yhat":0.1707,"id":"1534","vname":"age"},{"xhat":35,"yhat":0.1722,"id":"1534","vname":"age"},{"xhat":35.14,"yhat":0.1722,"id":"1534","vname":"age"},{"xhat":36,"yhat":0.1731,"id":"1534","vname":"age"},{"xhat":37,"yhat":0.1717,"id":"1534","vname":"age"},{"xhat":38,"yhat":0.1725,"id":"1534","vname":"age"},{"xhat":39,"yhat":0.1744,"id":"1534","vname":"age"},{"xhat":40,"yhat":0.1853,"id":"1534","vname":"age"},{"xhat":41,"yhat":0.1724,"id":"1534","vname":"age"},{"xhat":42,"yhat":0.1675,"id":"1534","vname":"age"},{"xhat":43,"yhat":0.1693,"id":"1534","vname":"age"},{"xhat":44,"yhat":0.1659,"id":"1534","vname":"age"},{"xhat":45,"yhat":0.1652,"id":"1534","vname":"age"},{"xhat":46,"yhat":0.1668,"id":"1534","vname":"age"},{"xhat":47.46,"yhat":0.1651,"id":"1534","vname":"age"},{"xhat":48,"yhat":0.1629,"id":"1534","vname":"age"},{"xhat":49,"yhat":0.1721,"id":"1534","vname":"age"},{"xhat":50,"yhat":0.1672,"id":"1534","vname":"age"},{"xhat":52,"yhat":0.1871,"id":"1534","vname":"age"},{"xhat":55,"yhat":0.168,"id":"1534","vname":"age"},{"xhat":57.82,"yhat":0.1818,"id":"1534","vname":"age"},{"xhat":60,"yhat":0.18,"id":"1534","vname":"age"},{"xhat":63,"yhat":0.2315,"id":"1534","vname":"age"},{"xhat":74,"yhat":0.2284,"id":"1534","vname":"age"}],"2022":[{"xhat":0.1667,"yhat":0.4,"id":"2022","vname":"age"},{"xhat":2,"yhat":0.4376,"id":"2022","vname":"age"},{"xhat":4,"yhat":0.4415,"id":"2022","vname":"age"},{"xhat":7,"yhat":0.389,"id":"2022","vname":"age"},{"xhat":9,"yhat":0.3681,"id":"2022","vname":"age"},{"xhat":13,"yhat":0.2797,"id":"2022","vname":"age"},{"xhat":15.36,"yhat":0.1758,"id":"2022","vname":"age"},{"xhat":17,"yhat":0.1737,"id":"2022","vname":"age"},{"xhat":18,"yhat":0.2015,"id":"2022","vname":"age"},{"xhat":19,"yhat":0.2006,"id":"2022","vname":"age"},{"xhat":20,"yhat":0.2012,"id":"2022","vname":"age"},{"xhat":21,"yhat":0.2099,"id":"2022","vname":"age"},{"xhat":22,"yhat":0.2061,"id":"2022","vname":"age"},{"xhat":23,"yhat":0.2078,"id":"2022","vname":"age"},{"xhat":24,"yhat":0.2001,"id":"2022","vname":"age"},{"xhat":25,"yhat":0.2013,"id":"2022","vname":"age"},{"xhat":26,"yhat":0.1978,"id":"2022","vname":"age"},{"xhat":27,"yhat":0.1999,"id":"2022","vname":"age"},{"xhat":28,"yhat":0.2043,"id":"2022","vname":"age"},{"xhat":29,"yhat":0.2109,"id":"2022","vname":"age"},{"xhat":30,"yhat":0.2064,"id":"2022","vname":"age"},{"xhat":31,"yhat":0.2007,"id":"2022","vname":"age"},{"xhat":32,"yhat":0.2055,"id":"2022","vname":"age"},{"xhat":33,"yhat":0.1825,"id":"2022","vname":"age"},{"xhat":34,"yhat":0.1707,"id":"2022","vname":"age"},{"xhat":35,"yhat":0.1722,"id":"2022","vname":"age"},{"xhat":35.14,"yhat":0.1722,"id":"2022","vname":"age"},{"xhat":36,"yhat":0.1731,"id":"2022","vname":"age"},{"xhat":37,"yhat":0.1717,"id":"2022","vname":"age"},{"xhat":38,"yhat":0.1725,"id":"2022","vname":"age"},{"xhat":39,"yhat":0.1744,"id":"2022","vname":"age"},{"xhat":40,"yhat":0.1853,"id":"2022","vname":"age"},{"xhat":41,"yhat":0.1724,"id":"2022","vname":"age"},{"xhat":42,"yhat":0.1675,"id":"2022","vname":"age"},{"xhat":43,"yhat":0.1693,"id":"2022","vname":"age"},{"xhat":44,"yhat":0.1659,"id":"2022","vname":"age"},{"xhat":45,"yhat":0.1652,"id":"2022","vname":"age"},{"xhat":46,"yhat":0.1668,"id":"2022","vname":"age"},{"xhat":47.46,"yhat":0.1651,"id":"2022","vname":"age"},{"xhat":48,"yhat":0.1629,"id":"2022","vname":"age"},{"xhat":49,"yhat":0.1721,"id":"2022","vname":"age"},{"xhat":50,"yhat":0.1672,"id":"2022","vname":"age"},{"xhat":52,"yhat":0.1871,"id":"2022","vname":"age"},{"xhat":55,"yhat":0.168,"id":"2022","vname":"age"},{"xhat":57.82,"yhat":0.1818,"id":"2022","vname":"age"},{"xhat":60,"yhat":0.18,"id":"2022","vname":"age"},{"xhat":63,"yhat":0.2315,"id":"2022","vname":"age"},{"xhat":74,"yhat":0.2284,"id":"2022","vname":"age"}],"452":[{"xhat":0.1667,"yhat":0.7104,"id":"452","vname":"age"},{"xhat":2,"yhat":0.7213,"id":"452","vname":"age"},{"xhat":4,"yhat":0.7254,"id":"452","vname":"age"},{"xhat":7,"yhat":0.715,"id":"452","vname":"age"},{"xhat":9,"yhat":0.7005,"id":"452","vname":"age"},{"xhat":13,"yhat":0.7006,"id":"452","vname":"age"},{"xhat":15.36,"yhat":0.7368,"id":"452","vname":"age"},{"xhat":17,"yhat":0.6453,"id":"452","vname":"age"},{"xhat":18,"yhat":0.6855,"id":"452","vname":"age"},{"xhat":19,"yhat":0.6846,"id":"452","vname":"age"},{"xhat":20,"yhat":0.6324,"id":"452","vname":"age"},{"xhat":21,"yhat":0.6115,"id":"452","vname":"age"},{"xhat":22,"yhat":0.6744,"id":"452","vname":"age"},{"xhat":23,"yhat":0.7116,"id":"452","vname":"age"},{"xhat":24,"yhat":0.7296,"id":"452","vname":"age"},{"xhat":25,"yhat":0.729,"id":"452","vname":"age"},{"xhat":26,"yhat":0.7324,"id":"452","vname":"age"},{"xhat":27,"yhat":0.7275,"id":"452","vname":"age"},{"xhat":28,"yhat":0.6172,"id":"452","vname":"age"},{"xhat":29,"yhat":0.6102,"id":"452","vname":"age"},{"xhat":30,"yhat":0.6068,"id":"452","vname":"age"},{"xhat":31,"yhat":0.613,"id":"452","vname":"age"},{"xhat":32,"yhat":0.5367,"id":"452","vname":"age"},{"xhat":33,"yhat":0.5488,"id":"452","vname":"age"},{"xhat":34,"yhat":0.5324,"id":"452","vname":"age"},{"xhat":35,"yhat":0.5171,"id":"452","vname":"age"},{"xhat":35.14,"yhat":0.5111,"id":"452","vname":"age"},{"xhat":36,"yhat":0.4999,"id":"452","vname":"age"},{"xhat":37,"yhat":0.4744,"id":"452","vname":"age"},{"xhat":38,"yhat":0.4489,"id":"452","vname":"age"},{"xhat":39,"yhat":0.4352,"id":"452","vname":"age"},{"xhat":40,"yhat":0.394,"id":"452","vname":"age"},{"xhat":41,"yhat":0.386,"id":"452","vname":"age"},{"xhat":42,"yhat":0.3841,"id":"452","vname":"age"},{"xhat":43,"yhat":0.385,"id":"452","vname":"age"},{"xhat":44,"yhat":0.3957,"id":"452","vname":"age"},{"xhat":45,"yhat":0.3989,"id":"452","vname":"age"},{"xhat":46,"yhat":0.4014,"id":"452","vname":"age"},{"xhat":47.46,"yhat":0.4031,"id":"452","vname":"age"},{"xhat":48,"yhat":0.386,"id":"452","vname":"age"},{"xhat":49,"yhat":0.386,"id":"452","vname":"age"},{"xhat":50,"yhat":0.387,"id":"452","vname":"age"},{"xhat":52,"yhat":0.3907,"id":"452","vname":"age"},{"xhat":55,"yhat":0.3914,"id":"452","vname":"age"},{"xhat":57.82,"yhat":0.3886,"id":"452","vname":"age"},{"xhat":60,"yhat":0.3851,"id":"452","vname":"age"},{"xhat":63,"yhat":0.3713,"id":"452","vname":"age"},{"xhat":74,"yhat":0.3642,"id":"452","vname":"age"}],"515":[{"xhat":0.1667,"yhat":0.5473,"id":"515","vname":"age"},{"xhat":2,"yhat":0.5849,"id":"515","vname":"age"},{"xhat":4,"yhat":0.5854,"id":"515","vname":"age"},{"xhat":7,"yhat":0.5449,"id":"515","vname":"age"},{"xhat":9,"yhat":0.507,"id":"515","vname":"age"},{"xhat":13,"yhat":0.393,"id":"515","vname":"age"},{"xhat":15.36,"yhat":0.1782,"id":"515","vname":"age"},{"xhat":17,"yhat":0.1253,"id":"515","vname":"age"},{"xhat":18,"yhat":0.1293,"id":"515","vname":"age"},{"xhat":19,"yhat":0.1526,"id":"515","vname":"age"},{"xhat":20,"yhat":0.1513,"id":"515","vname":"age"},{"xhat":21,"yhat":0.149,"id":"515","vname":"age"},{"xhat":22,"yhat":0.1661,"id":"515","vname":"age"},{"xhat":23,"yhat":0.1466,"id":"515","vname":"age"},{"xhat":24,"yhat":0.1362,"id":"515","vname":"age"},{"xhat":25,"yhat":0.1417,"id":"515","vname":"age"},{"xhat":26,"yhat":0.123,"id":"515","vname":"age"},{"xhat":27,"yhat":0.1179,"id":"515","vname":"age"},{"xhat":28,"yhat":0.1184,"id":"515","vname":"age"},{"xhat":29,"yhat":0.1374,"id":"515","vname":"age"},{"xhat":30,"yhat":0.1383,"id":"515","vname":"age"},{"xhat":31,"yhat":0.1366,"id":"515","vname":"age"},{"xhat":32,"yhat":0.1222,"id":"515","vname":"age"},{"xhat":33,"yhat":0.1258,"id":"515","vname":"age"},{"xhat":34,"yhat":0.1478,"id":"515","vname":"age"},{"xhat":35,"yhat":0.1017,"id":"515","vname":"age"},{"xhat":35.14,"yhat":0.1012,"id":"515","vname":"age"},{"xhat":36,"yhat":0.1002,"id":"515","vname":"age"},{"xhat":37,"yhat":0.0996,"id":"515","vname":"age"},{"xhat":38,"yhat":0.1019,"id":"515","vname":"age"},{"xhat":39,"yhat":0.1122,"id":"515","vname":"age"},{"xhat":40,"yhat":0.1139,"id":"515","vname":"age"},{"xhat":41,"yhat":0.1399,"id":"515","vname":"age"},{"xhat":42,"yhat":0.114,"id":"515","vname":"age"},{"xhat":43,"yhat":0.1201,"id":"515","vname":"age"},{"xhat":44,"yhat":0.1187,"id":"515","vname":"age"},{"xhat":45,"yhat":0.1141,"id":"515","vname":"age"},{"xhat":46,"yhat":0.1003,"id":"515","vname":"age"},{"xhat":47.46,"yhat":0.1004,"id":"515","vname":"age"},{"xhat":48,"yhat":0.1015,"id":"515","vname":"age"},{"xhat":49,"yhat":0.1015,"id":"515","vname":"age"},{"xhat":50,"yhat":0.1017,"id":"515","vname":"age"},{"xhat":52,"yhat":0.1017,"id":"515","vname":"age"},{"xhat":55,"yhat":0.1045,"id":"515","vname":"age"},{"xhat":57.82,"yhat":0.1128,"id":"515","vname":"age"},{"xhat":60,"yhat":0.1196,"id":"515","vname":"age"},{"xhat":63,"yhat":0.1732,"id":"515","vname":"age"},{"xhat":74,"yhat":0.1665,"id":"515","vname":"age"}],"604":[{"xhat":0.1667,"yhat":0.4893,"id":"604","vname":"age"},{"xhat":2,"yhat":0.5251,"id":"604","vname":"age"},{"xhat":4,"yhat":0.5336,"id":"604","vname":"age"},{"xhat":7,"yhat":0.4773,"id":"604","vname":"age"},{"xhat":9,"yhat":0.454,"id":"604","vname":"age"},{"xhat":13,"yhat":0.3822,"id":"604","vname":"age"},{"xhat":15.36,"yhat":0.1517,"id":"604","vname":"age"},{"xhat":17,"yhat":0.1101,"id":"604","vname":"age"},{"xhat":18,"yhat":0.1238,"id":"604","vname":"age"},{"xhat":19,"yhat":0.1227,"id":"604","vname":"age"},{"xhat":20,"yhat":0.1493,"id":"604","vname":"age"},{"xhat":21,"yhat":0.123,"id":"604","vname":"age"},{"xhat":22,"yhat":0.1078,"id":"604","vname":"age"},{"xhat":23,"yhat":0.107,"id":"604","vname":"age"},{"xhat":24,"yhat":0.1245,"id":"604","vname":"age"},{"xhat":25,"yhat":0.1389,"id":"604","vname":"age"},{"xhat":26,"yhat":0.1127,"id":"604","vname":"age"},{"xhat":27,"yhat":0.1031,"id":"604","vname":"age"},{"xhat":28,"yhat":0.1006,"id":"604","vname":"age"},{"xhat":29,"yhat":0.1098,"id":"604","vname":"age"},{"xhat":30,"yhat":0.111,"id":"604","vname":"age"},{"xhat":31,"yhat":0.11,"id":"604","vname":"age"},{"xhat":32,"yhat":0.1256,"id":"604","vname":"age"},{"xhat":33,"yhat":0.1247,"id":"604","vname":"age"},{"xhat":34,"yhat":0.1383,"id":"604","vname":"age"},{"xhat":35,"yhat":0.1158,"id":"604","vname":"age"},{"xhat":35.14,"yhat":0.1225,"id":"604","vname":"age"},{"xhat":36,"yhat":0.1221,"id":"604","vname":"age"},{"xhat":37,"yhat":0.1077,"id":"604","vname":"age"},{"xhat":38,"yhat":0.104,"id":"604","vname":"age"},{"xhat":39,"yhat":0.1152,"id":"604","vname":"age"},{"xhat":40,"yhat":0.1004,"id":"604","vname":"age"},{"xhat":41,"yhat":0.0999,"id":"604","vname":"age"},{"xhat":42,"yhat":0.0965,"id":"604","vname":"age"},{"xhat":43,"yhat":0.0969,"id":"604","vname":"age"},{"xhat":44,"yhat":0.1164,"id":"604","vname":"age"},{"xhat":45,"yhat":0.1208,"id":"604","vname":"age"},{"xhat":46,"yhat":0.1059,"id":"604","vname":"age"},{"xhat":47.46,"yhat":0.1063,"id":"604","vname":"age"},{"xhat":48,"yhat":0.1029,"id":"604","vname":"age"},{"xhat":49,"yhat":0.1036,"id":"604","vname":"age"},{"xhat":50,"yhat":0.1038,"id":"604","vname":"age"},{"xhat":52,"yhat":0.1053,"id":"604","vname":"age"},{"xhat":55,"yhat":0.0986,"id":"604","vname":"age"},{"xhat":57.82,"yhat":0.0995,"id":"604","vname":"age"},{"xhat":60,"yhat":0.0998,"id":"604","vname":"age"},{"xhat":63,"yhat":0.1086,"id":"604","vname":"age"},{"xhat":74,"yhat":0.1066,"id":"604","vname":"age"}],"865":[{"xhat":0.1667,"yhat":0.5093,"id":"865","vname":"age"},{"xhat":2,"yhat":0.5326,"id":"865","vname":"age"},{"xhat":4,"yhat":0.5319,"id":"865","vname":"age"},{"xhat":7,"yhat":0.4647,"id":"865","vname":"age"},{"xhat":9,"yhat":0.4388,"id":"865","vname":"age"},{"xhat":13,"yhat":0.3314,"id":"865","vname":"age"},{"xhat":15.36,"yhat":0.1777,"id":"865","vname":"age"},{"xhat":17,"yhat":0.1295,"id":"865","vname":"age"},{"xhat":18,"yhat":0.1516,"id":"865","vname":"age"},{"xhat":19,"yhat":0.1127,"id":"865","vname":"age"},{"xhat":20,"yhat":0.1121,"id":"865","vname":"age"},{"xhat":21,"yhat":0.1418,"id":"865","vname":"age"},{"xhat":22,"yhat":0.1763,"id":"865","vname":"age"},{"xhat":23,"yhat":0.1765,"id":"865","vname":"age"},{"xhat":24,"yhat":0.2219,"id":"865","vname":"age"},{"xhat":25,"yhat":0.2413,"id":"865","vname":"age"},{"xhat":26,"yhat":0.1636,"id":"865","vname":"age"},{"xhat":27,"yhat":0.1637,"id":"865","vname":"age"},{"xhat":28,"yhat":0.1431,"id":"865","vname":"age"},{"xhat":29,"yhat":0.1429,"id":"865","vname":"age"},{"xhat":30,"yhat":0.1346,"id":"865","vname":"age"},{"xhat":31,"yhat":0.1311,"id":"865","vname":"age"},{"xhat":32,"yhat":0.1326,"id":"865","vname":"age"},{"xhat":33,"yhat":0.1251,"id":"865","vname":"age"},{"xhat":34,"yhat":0.1185,"id":"865","vname":"age"},{"xhat":35,"yhat":0.0931,"id":"865","vname":"age"},{"xhat":35.14,"yhat":0.0931,"id":"865","vname":"age"},{"xhat":36,"yhat":0.0952,"id":"865","vname":"age"},{"xhat":37,"yhat":0.0956,"id":"865","vname":"age"},{"xhat":38,"yhat":0.0977,"id":"865","vname":"age"},{"xhat":39,"yhat":0.1078,"id":"865","vname":"age"},{"xhat":40,"yhat":0.0957,"id":"865","vname":"age"},{"xhat":41,"yhat":0.0975,"id":"865","vname":"age"},{"xhat":42,"yhat":0.0959,"id":"865","vname":"age"},{"xhat":43,"yhat":0.1006,"id":"865","vname":"age"},{"xhat":44,"yhat":0.1031,"id":"865","vname":"age"},{"xhat":45,"yhat":0.1,"id":"865","vname":"age"},{"xhat":46,"yhat":0.0937,"id":"865","vname":"age"},{"xhat":47.46,"yhat":0.0935,"id":"865","vname":"age"},{"xhat":48,"yhat":0.0889,"id":"865","vname":"age"},{"xhat":49,"yhat":0.0889,"id":"865","vname":"age"},{"xhat":50,"yhat":0.0886,"id":"865","vname":"age"},{"xhat":52,"yhat":0.0928,"id":"865","vname":"age"},{"xhat":55,"yhat":0.0871,"id":"865","vname":"age"},{"xhat":57.82,"yhat":0.0889,"id":"865","vname":"age"},{"xhat":60,"yhat":0.0869,"id":"865","vname":"age"},{"xhat":63,"yhat":0.0973,"id":"865","vname":"age"},{"xhat":74,"yhat":0.0929,"id":"865","vname":"age"}],"954":[{"xhat":0.1667,"yhat":0.5521,"id":"954","vname":"age"},{"xhat":2,"yhat":0.5601,"id":"954","vname":"age"},{"xhat":4,"yhat":0.5679,"id":"954","vname":"age"},{"xhat":7,"yhat":0.5156,"id":"954","vname":"age"},{"xhat":9,"yhat":0.5124,"id":"954","vname":"age"},{"xhat":13,"yhat":0.4463,"id":"954","vname":"age"},{"xhat":15.36,"yhat":0.3697,"id":"954","vname":"age"},{"xhat":17,"yhat":0.3448,"id":"954","vname":"age"},{"xhat":18,"yhat":0.331,"id":"954","vname":"age"},{"xhat":19,"yhat":0.3283,"id":"954","vname":"age"},{"xhat":20,"yhat":0.3332,"id":"954","vname":"age"},{"xhat":21,"yhat":0.3353,"id":"954","vname":"age"},{"xhat":22,"yhat":0.3404,"id":"954","vname":"age"},{"xhat":23,"yhat":0.341,"id":"954","vname":"age"},{"xhat":24,"yhat":0.3637,"id":"954","vname":"age"},{"xhat":25,"yhat":0.3925,"id":"954","vname":"age"},{"xhat":26,"yhat":0.3925,"id":"954","vname":"age"},{"xhat":27,"yhat":0.3809,"id":"954","vname":"age"},{"xhat":28,"yhat":0.3515,"id":"954","vname":"age"},{"xhat":29,"yhat":0.3258,"id":"954","vname":"age"},{"xhat":30,"yhat":0.3416,"id":"954","vname":"age"},{"xhat":31,"yhat":0.3545,"id":"954","vname":"age"},{"xhat":32,"yhat":0.3634,"id":"954","vname":"age"},{"xhat":33,"yhat":0.3506,"id":"954","vname":"age"},{"xhat":34,"yhat":0.3336,"id":"954","vname":"age"},{"xhat":35,"yhat":0.3274,"id":"954","vname":"age"},{"xhat":35.14,"yhat":0.3245,"id":"954","vname":"age"},{"xhat":36,"yhat":0.2941,"id":"954","vname":"age"},{"xhat":37,"yhat":0.2871,"id":"954","vname":"age"},{"xhat":38,"yhat":0.2957,"id":"954","vname":"age"},{"xhat":39,"yhat":0.2674,"id":"954","vname":"age"},{"xhat":40,"yhat":0.2659,"id":"954","vname":"age"},{"xhat":41,"yhat":0.2643,"id":"954","vname":"age"},{"xhat":42,"yhat":0.2645,"id":"954","vname":"age"},{"xhat":43,"yhat":0.2673,"id":"954","vname":"age"},{"xhat":44,"yhat":0.2563,"id":"954","vname":"age"},{"xhat":45,"yhat":0.2534,"id":"954","vname":"age"},{"xhat":46,"yhat":0.2461,"id":"954","vname":"age"},{"xhat":47.46,"yhat":0.3339,"id":"954","vname":"age"},{"xhat":48,"yhat":0.3601,"id":"954","vname":"age"},{"xhat":49,"yhat":0.3545,"id":"954","vname":"age"},{"xhat":50,"yhat":0.3344,"id":"954","vname":"age"},{"xhat":52,"yhat":0.3474,"id":"954","vname":"age"},{"xhat":55,"yhat":0.2629,"id":"954","vname":"age"},{"xhat":57.82,"yhat":0.2216,"id":"954","vname":"age"},{"xhat":60,"yhat":0.2189,"id":"954","vname":"age"},{"xhat":63,"yhat":0.1847,"id":"954","vname":"age"},{"xhat":74,"yhat":0.1818,"id":"954","vname":"age"}]},"fare":{"1225":[{"xhat":0,"yhat":0.4019,"id":"1225","vname":"fare"},{"xhat":6.1793,"yhat":0.3176,"id":"1225","vname":"fare"},{"xhat":7.0206,"yhat":0.3191,"id":"1225","vname":"fare"},{"xhat":7.0406,"yhat":0.3259,"id":"1225","vname":"fare"},{"xhat":7.0407,"yhat":0.3259,"id":"1225","vname":"fare"},{"xhat":7.0506,"yhat":0.3224,"id":"1225","vname":"fare"},{"xhat":7.1406,"yhat":0.332,"id":"1225","vname":"fare"},{"xhat":7.15,"yhat":0.3362,"id":"1225","vname":"fare"},{"xhat":7.1506,"yhat":0.3478,"id":"1225","vname":"fare"},{"xhat":7.1613,"yhat":0.3376,"id":"1225","vname":"fare"},{"xhat":7.1702,"yhat":0.3386,"id":"1225","vname":"fare"},{"xhat":7.1711,"yhat":0.3325,"id":"1225","vname":"fare"},{"xhat":7.1806,"yhat":0.3473,"id":"1225","vname":"fare"},{"xhat":8.0036,"yhat":0.3495,"id":"1225","vname":"fare"},{"xhat":8.01,"yhat":0.3495,"id":"1225","vname":"fare"},{"xhat":8.0715,"yhat":0.35,"id":"1225","vname":"fare"},{"xhat":8.1303,"yhat":0.3487,"id":"1225","vname":"fare"},{"xhat":9.0969,"yhat":0.3579,"id":"1225","vname":"fare"},{"xhat":10.0903,"yhat":0.3627,"id":"1225","vname":"fare"},{"xhat":10.1,"yhat":0.3617,"id":"1225","vname":"fare"},{"xhat":11.1,"yhat":0.3552,"id":"1225","vname":"fare"},{"xhat":12.1398,"yhat":0.339,"id":"1225","vname":"fare"},{"xhat":13,"yhat":0.2894,"id":"1225","vname":"fare"},{"xhat":13.0064,"yhat":0.2894,"id":"1225","vname":"fare"},{"xhat":14.0202,"yhat":0.247,"id":"1225","vname":"fare"},{"xhat":14.1,"yhat":0.2428,"id":"1225","vname":"fare"},{"xhat":15.0411,"yhat":0.3065,"id":"1225","vname":"fare"},{"xhat":15.17,"yhat":0.3365,"id":"1225","vname":"fare"},{"xhat":16.4972,"yhat":0.3209,"id":"1225","vname":"fare"},{"xhat":20.0446,"yhat":0.2716,"id":"1225","vname":"fare"},{"xhat":21,"yhat":0.2538,"id":"1225","vname":"fare"},{"xhat":22,"yhat":0.2907,"id":"1225","vname":"fare"},{"xhat":23.09,"yhat":0.198,"id":"1225","vname":"fare"},{"xhat":25.1679,"yhat":0.1945,"id":"1225","vname":"fare"},{"xhat":26,"yhat":0.1983,"id":"1225","vname":"fare"},{"xhat":26.11,"yhat":0.2013,"id":"1225","vname":"fare"},{"xhat":27.0746,"yhat":0.1996,"id":"1225","vname":"fare"},{"xhat":27.18,"yhat":0.1987,"id":"1225","vname":"fare"},{"xhat":30,"yhat":0.2115,"id":"1225","vname":"fare"},{"xhat":31.0506,"yhat":0.2044,"id":"1225","vname":"fare"},{"xhat":34.0113,"yhat":0.2057,"id":"1225","vname":"fare"},{"xhat":39,"yhat":0.2135,"id":"1225","vname":"fare"},{"xhat":42.08,"yhat":0.202,"id":"1225","vname":"fare"},{"xhat":51.1178,"yhat":0.2154,"id":"1225","vname":"fare"},{"xhat":53.812,"yhat":0.3014,"id":"1225","vname":"fare"},{"xhat":57.1687,"yhat":0.306,"id":"1225","vname":"fare"},{"xhat":65.5824,"yhat":0.2614,"id":"1225","vname":"fare"},{"xhat":73.1,"yhat":0.2456,"id":"1225","vname":"fare"},{"xhat":78.17,"yhat":0.2711,"id":"1225","vname":"fare"},{"xhat":83.0302,"yhat":0.2834,"id":"1225","vname":"fare"},{"xhat":92.5986,"yhat":0.2831,"id":"1225","vname":"fare"},{"xhat":120,"yhat":0.3042,"id":"1225","vname":"fare"},{"xhat":152.8587,"yhat":0.2879,"id":"1225","vname":"fare"},{"xhat":247.1005,"yhat":0.2795,"id":"1225","vname":"fare"},{"xhat":512.0607,"yhat":0.3173,"id":"1225","vname":"fare"}],"1270":[{"xhat":0,"yhat":0.7047,"id":"1270","vname":"fare"},{"xhat":6.1793,"yhat":0.7072,"id":"1270","vname":"fare"},{"xhat":7.0206,"yhat":0.7066,"id":"1270","vname":"fare"},{"xhat":7.0406,"yhat":0.7066,"id":"1270","vname":"fare"},{"xhat":7.0407,"yhat":0.7086,"id":"1270","vname":"fare"},{"xhat":7.0506,"yhat":0.7021,"id":"1270","vname":"fare"},{"xhat":7.1406,"yhat":0.7003,"id":"1270","vname":"fare"},{"xhat":7.15,"yhat":0.7006,"id":"1270","vname":"fare"},{"xhat":7.1506,"yhat":0.7006,"id":"1270","vname":"fare"},{"xhat":7.1613,"yhat":0.702,"id":"1270","vname":"fare"},{"xhat":7.1702,"yhat":0.702,"id":"1270","vname":"fare"},{"xhat":7.1711,"yhat":0.6997,"id":"1270","vname":"fare"},{"xhat":7.1806,"yhat":0.6969,"id":"1270","vname":"fare"},{"xhat":8.0036,"yhat":0.6986,"id":"1270","vname":"fare"},{"xhat":8.01,"yhat":0.6986,"id":"1270","vname":"fare"},{"xhat":8.0715,"yhat":0.696,"id":"1270","vname":"fare"},{"xhat":8.1303,"yhat":0.6913,"id":"1270","vname":"fare"},{"xhat":9.0969,"yhat":0.7045,"id":"1270","vname":"fare"},{"xhat":10.0903,"yhat":0.7015,"id":"1270","vname":"fare"},{"xhat":10.1,"yhat":0.7126,"id":"1270","vname":"fare"},{"xhat":11.1,"yhat":0.7126,"id":"1270","vname":"fare"},{"xhat":12.1398,"yhat":0.7293,"id":"1270","vname":"fare"},{"xhat":13,"yhat":0.7172,"id":"1270","vname":"fare"},{"xhat":13.0064,"yhat":0.7172,"id":"1270","vname":"fare"},{"xhat":14.0202,"yhat":0.7746,"id":"1270","vname":"fare"},{"xhat":14.1,"yhat":0.7864,"id":"1270","vname":"fare"},{"xhat":15.0411,"yhat":0.8393,"id":"1270","vname":"fare"},{"xhat":15.17,"yhat":0.8589,"id":"1270","vname":"fare"},{"xhat":16.4972,"yhat":0.879,"id":"1270","vname":"fare"},{"xhat":20.0446,"yhat":0.8862,"id":"1270","vname":"fare"},{"xhat":21,"yhat":0.8827,"id":"1270","vname":"fare"},{"xhat":22,"yhat":0.8816,"id":"1270","vname":"fare"},{"xhat":23.09,"yhat":0.9064,"id":"1270","vname":"fare"},{"xhat":25.1679,"yhat":0.9114,"id":"1270","vname":"fare"},{"xhat":26,"yhat":0.917,"id":"1270","vname":"fare"},{"xhat":26.11,"yhat":0.9341,"id":"1270","vname":"fare"},{"xhat":27.0746,"yhat":0.9347,"id":"1270","vname":"fare"},{"xhat":27.18,"yhat":0.9251,"id":"1270","vname":"fare"},{"xhat":30,"yhat":0.9257,"id":"1270","vname":"fare"},{"xhat":31.0506,"yhat":0.9236,"id":"1270","vname":"fare"},{"xhat":34.0113,"yhat":0.913,"id":"1270","vname":"fare"},{"xhat":39,"yhat":0.9176,"id":"1270","vname":"fare"},{"xhat":42.08,"yhat":0.9074,"id":"1270","vname":"fare"},{"xhat":51.1178,"yhat":0.8729,"id":"1270","vname":"fare"},{"xhat":53.812,"yhat":0.8555,"id":"1270","vname":"fare"},{"xhat":57.1687,"yhat":0.8561,"id":"1270","vname":"fare"},{"xhat":65.5824,"yhat":0.8445,"id":"1270","vname":"fare"},{"xhat":73.1,"yhat":0.8227,"id":"1270","vname":"fare"},{"xhat":78.17,"yhat":0.8233,"id":"1270","vname":"fare"},{"xhat":83.0302,"yhat":0.8249,"id":"1270","vname":"fare"},{"xhat":92.5986,"yhat":0.8184,"id":"1270","vname":"fare"},{"xhat":120,"yhat":0.8014,"id":"1270","vname":"fare"},{"xhat":152.8587,"yhat":0.7046,"id":"1270","vname":"fare"},{"xhat":247.1005,"yhat":0.7287,"id":"1270","vname":"fare"},{"xhat":512.0607,"yhat":0.7301,"id":"1270","vname":"fare"}],"1430":[{"xhat":0,"yhat":0.2388,"id":"1430","vname":"fare"},{"xhat":6.1793,"yhat":0.2274,"id":"1430","vname":"fare"},{"xhat":7.0206,"yhat":0.2123,"id":"1430","vname":"fare"},{"xhat":7.0406,"yhat":0.21,"id":"1430","vname":"fare"},{"xhat":7.0407,"yhat":0.2075,"id":"1430","vname":"fare"},{"xhat":7.0506,"yhat":0.2025,"id":"1430","vname":"fare"},{"xhat":7.1406,"yhat":0.2265,"id":"1430","vname":"fare"},{"xhat":7.15,"yhat":0.2277,"id":"1430","vname":"fare"},{"xhat":7.1506,"yhat":0.2317,"id":"1430","vname":"fare"},{"xhat":7.1613,"yhat":0.1937,"id":"1430","vname":"fare"},{"xhat":7.1702,"yhat":0.1955,"id":"1430","vname":"fare"},{"xhat":7.1711,"yhat":0.1584,"id":"1430","vname":"fare"},{"xhat":7.1806,"yhat":0.1788,"id":"1430","vname":"fare"},{"xhat":8.0036,"yhat":0.1666,"id":"1430","vname":"fare"},{"xhat":8.01,"yhat":0.1663,"id":"1430","vname":"fare"},{"xhat":8.0715,"yhat":0.1685,"id":"1430","vname":"fare"},{"xhat":8.1303,"yhat":0.1658,"id":"1430","vname":"fare"},{"xhat":9.0969,"yhat":0.1858,"id":"1430","vname":"fare"},{"xhat":10.0903,"yhat":0.1859,"id":"1430","vname":"fare"},{"xhat":10.1,"yhat":0.1887,"id":"1430","vname":"fare"},{"xhat":11.1,"yhat":0.1999,"id":"1430","vname":"fare"},{"xhat":12.1398,"yhat":0.2079,"id":"1430","vname":"fare"},{"xhat":13,"yhat":0.2008,"id":"1430","vname":"fare"},{"xhat":13.0064,"yhat":0.2008,"id":"1430","vname":"fare"},{"xhat":14.0202,"yhat":0.1692,"id":"1430","vname":"fare"},{"xhat":14.1,"yhat":0.1631,"id":"1430","vname":"fare"},{"xhat":15.0411,"yhat":0.1769,"id":"1430","vname":"fare"},{"xhat":15.17,"yhat":0.164,"id":"1430","vname":"fare"},{"xhat":16.4972,"yhat":0.1619,"id":"1430","vname":"fare"},{"xhat":20.0446,"yhat":0.1651,"id":"1430","vname":"fare"},{"xhat":21,"yhat":0.164,"id":"1430","vname":"fare"},{"xhat":22,"yhat":0.168,"id":"1430","vname":"fare"},{"xhat":23.09,"yhat":0.1701,"id":"1430","vname":"fare"},{"xhat":25.1679,"yhat":0.1707,"id":"1430","vname":"fare"},{"xhat":26,"yhat":0.1711,"id":"1430","vname":"fare"},{"xhat":26.11,"yhat":0.2737,"id":"1430","vname":"fare"},{"xhat":27.0746,"yhat":0.2683,"id":"1430","vname":"fare"},{"xhat":27.18,"yhat":0.266,"id":"1430","vname":"fare"},{"xhat":30,"yhat":0.2736,"id":"1430","vname":"fare"},{"xhat":31.0506,"yhat":0.2611,"id":"1430","vname":"fare"},{"xhat":34.0113,"yhat":0.266,"id":"1430","vname":"fare"},{"xhat":39,"yhat":0.2621,"id":"1430","vname":"fare"},{"xhat":42.08,"yhat":0.2975,"id":"1430","vname":"fare"},{"xhat":51.1178,"yhat":0.3524,"id":"1430","vname":"fare"},{"xhat":53.812,"yhat":0.4546,"id":"1430","vname":"fare"},{"xhat":57.1687,"yhat":0.4631,"id":"1430","vname":"fare"},{"xhat":65.5824,"yhat":0.3734,"id":"1430","vname":"fare"},{"xhat":73.1,"yhat":0.3563,"id":"1430","vname":"fare"},{"xhat":78.17,"yhat":0.368,"id":"1430","vname":"fare"},{"xhat":83.0302,"yhat":0.3754,"id":"1430","vname":"fare"},{"xhat":92.5986,"yhat":0.3756,"id":"1430","vname":"fare"},{"xhat":120,"yhat":0.3834,"id":"1430","vname":"fare"},{"xhat":152.8587,"yhat":0.3653,"id":"1430","vname":"fare"},{"xhat":247.1005,"yhat":0.3595,"id":"1430","vname":"fare"},{"xhat":512.0607,"yhat":0.4052,"id":"1430","vname":"fare"}],"1534":[{"xhat":0,"yhat":0.1725,"id":"1534","vname":"fare"},{"xhat":6.1793,"yhat":0.1504,"id":"1534","vname":"fare"},{"xhat":7.0206,"yhat":0.1444,"id":"1534","vname":"fare"},{"xhat":7.0406,"yhat":0.1458,"id":"1534","vname":"fare"},{"xhat":7.0407,"yhat":0.1431,"id":"1534","vname":"fare"},{"xhat":7.0506,"yhat":0.1417,"id":"1534","vname":"fare"},{"xhat":7.1406,"yhat":0.149,"id":"1534","vname":"fare"},{"xhat":7.15,"yhat":0.148,"id":"1534","vname":"fare"},{"xhat":7.1506,"yhat":0.152,"id":"1534","vname":"fare"},{"xhat":7.1613,"yhat":0.1406,"id":"1534","vname":"fare"},{"xhat":7.1702,"yhat":0.1419,"id":"1534","vname":"fare"},{"xhat":7.1711,"yhat":0.1274,"id":"1534","vname":"fare"},{"xhat":7.1806,"yhat":0.1748,"id":"1534","vname":"fare"},{"xhat":8.0036,"yhat":0.1397,"id":"1534","vname":"fare"},{"xhat":8.01,"yhat":0.1394,"id":"1534","vname":"fare"},{"xhat":8.0715,"yhat":0.1375,"id":"1534","vname":"fare"},{"xhat":8.1303,"yhat":0.138,"id":"1534","vname":"fare"},{"xhat":9.0969,"yhat":0.1549,"id":"1534","vname":"fare"},{"xhat":10.0903,"yhat":0.1486,"id":"1534","vname":"fare"},{"xhat":10.1,"yhat":0.1484,"id":"1534","vname":"fare"},{"xhat":11.1,"yhat":0.1532,"id":"1534","vname":"fare"},{"xhat":12.1398,"yhat":0.1555,"id":"1534","vname":"fare"},{"xhat":13,"yhat":0.1466,"id":"1534","vname":"fare"},{"xhat":13.0064,"yhat":0.1466,"id":"1534","vname":"fare"},{"xhat":14.0202,"yhat":0.1349,"id":"1534","vname":"fare"},{"xhat":14.1,"yhat":0.1278,"id":"1534","vname":"fare"},{"xhat":15.0411,"yhat":0.1521,"id":"1534","vname":"fare"},{"xhat":15.17,"yhat":0.1409,"id":"1534","vname":"fare"},{"xhat":16.4972,"yhat":0.1414,"id":"1534","vname":"fare"},{"xhat":20.0446,"yhat":0.1547,"id":"1534","vname":"fare"},{"xhat":21,"yhat":0.1513,"id":"1534","vname":"fare"},{"xhat":22,"yhat":0.1556,"id":"1534","vname":"fare"},{"xhat":23.09,"yhat":0.1531,"id":"1534","vname":"fare"},{"xhat":25.1679,"yhat":0.1592,"id":"1534","vname":"fare"},{"xhat":26,"yhat":0.1591,"id":"1534","vname":"fare"},{"xhat":26.11,"yhat":0.2626,"id":"1534","vname":"fare"},{"xhat":27.0746,"yhat":0.2571,"id":"1534","vname":"fare"},{"xhat":27.18,"yhat":0.2561,"id":"1534","vname":"fare"},{"xhat":30,"yhat":0.2655,"id":"1534","vname":"fare"},{"xhat":31.0506,"yhat":0.2585,"id":"1534","vname":"fare"},{"xhat":34.0113,"yhat":0.2642,"id":"1534","vname":"fare"},{"xhat":39,"yhat":0.2685,"id":"1534","vname":"fare"},{"xhat":42.08,"yhat":0.3282,"id":"1534","vname":"fare"},{"xhat":51.1178,"yhat":0.3799,"id":"1534","vname":"fare"},{"xhat":53.812,"yhat":0.4948,"id":"1534","vname":"fare"},{"xhat":57.1687,"yhat":0.5,"id":"1534","vname":"fare"},{"xhat":65.5824,"yhat":0.4129,"id":"1534","vname":"fare"},{"xhat":73.1,"yhat":0.395,"id":"1534","vname":"fare"},{"xhat":78.17,"yhat":0.4051,"id":"1534","vname":"fare"},{"xhat":83.0302,"yhat":0.41,"id":"1534","vname":"fare"},{"xhat":92.5986,"yhat":0.4097,"id":"1534","vname":"fare"},{"xhat":120,"yhat":0.4163,"id":"1534","vname":"fare"},{"xhat":152.8587,"yhat":0.3988,"id":"1534","vname":"fare"},{"xhat":247.1005,"yhat":0.3929,"id":"1534","vname":"fare"},{"xhat":512.0607,"yhat":0.4376,"id":"1534","vname":"fare"}],"2022":[{"xhat":0,"yhat":0.2078,"id":"2022","vname":"fare"},{"xhat":6.1793,"yhat":0.1923,"id":"2022","vname":"fare"},{"xhat":7.0206,"yhat":0.1837,"id":"2022","vname":"fare"},{"xhat":7.0406,"yhat":0.1866,"id":"2022","vname":"fare"},{"xhat":7.0407,"yhat":0.1817,"id":"2022","vname":"fare"},{"xhat":7.0506,"yhat":0.1782,"id":"2022","vname":"fare"},{"xhat":7.1406,"yhat":0.1925,"id":"2022","vname":"fare"},{"xhat":7.15,"yhat":0.1941,"id":"2022","vname":"fare"},{"xhat":7.1506,"yhat":0.1986,"id":"2022","vname":"fare"},{"xhat":7.1613,"yhat":0.1611,"id":"2022","vname":"fare"},{"xhat":7.1702,"yhat":0.1602,"id":"2022","vname":"fare"},{"xhat":7.1711,"yhat":0.1453,"id":"2022","vname":"fare"},{"xhat":7.1806,"yhat":0.1662,"id":"2022","vname":"fare"},{"xhat":8.0036,"yhat":0.155,"id":"2022","vname":"fare"},{"xhat":8.01,"yhat":0.1547,"id":"2022","vname":"fare"},{"xhat":8.0715,"yhat":0.1555,"id":"2022","vname":"fare"},{"xhat":8.1303,"yhat":0.1539,"id":"2022","vname":"fare"},{"xhat":9.0969,"yhat":0.1759,"id":"2022","vname":"fare"},{"xhat":10.0903,"yhat":0.1758,"id":"2022","vname":"fare"},{"xhat":10.1,"yhat":0.1777,"id":"2022","vname":"fare"},{"xhat":11.1,"yhat":0.1825,"id":"2022","vname":"fare"},{"xhat":12.1398,"yhat":0.1898,"id":"2022","vname":"fare"},{"xhat":13,"yhat":0.1826,"id":"2022","vname":"fare"},{"xhat":13.0064,"yhat":0.1826,"id":"2022","vname":"fare"},{"xhat":14.0202,"yhat":0.1553,"id":"2022","vname":"fare"},{"xhat":14.1,"yhat":0.1491,"id":"2022","vname":"fare"},{"xhat":15.0411,"yhat":0.1637,"id":"2022","vname":"fare"},{"xhat":15.17,"yhat":0.153,"id":"2022","vname":"fare"},{"xhat":16.4972,"yhat":0.1509,"id":"2022","vname":"fare"},{"xhat":20.0446,"yhat":0.1515,"id":"2022","vname":"fare"},{"xhat":21,"yhat":0.1507,"id":"2022","vname":"fare"},{"xhat":22,"yhat":0.1544,"id":"2022","vname":"fare"},{"xhat":23.09,"yhat":0.1508,"id":"2022","vname":"fare"},{"xhat":25.1679,"yhat":0.1494,"id":"2022","vname":"fare"},{"xhat":26,"yhat":0.1498,"id":"2022","vname":"fare"},{"xhat":26.11,"yhat":0.2377,"id":"2022","vname":"fare"},{"xhat":27.0746,"yhat":0.2312,"id":"2022","vname":"fare"},{"xhat":27.18,"yhat":0.2304,"id":"2022","vname":"fare"},{"xhat":30,"yhat":0.2372,"id":"2022","vname":"fare"},{"xhat":31.0506,"yhat":0.2262,"id":"2022","vname":"fare"},{"xhat":34.0113,"yhat":0.231,"id":"2022","vname":"fare"},{"xhat":39,"yhat":0.2285,"id":"2022","vname":"fare"},{"xhat":42.08,"yhat":0.2541,"id":"2022","vname":"fare"},{"xhat":51.1178,"yhat":0.291,"id":"2022","vname":"fare"},{"xhat":53.812,"yhat":0.3796,"id":"2022","vname":"fare"},{"xhat":57.1687,"yhat":0.3854,"id":"2022","vname":"fare"},{"xhat":65.5824,"yhat":0.3004,"id":"2022","vname":"fare"},{"xhat":73.1,"yhat":0.2837,"id":"2022","vname":"fare"},{"xhat":78.17,"yhat":0.2982,"id":"2022","vname":"fare"},{"xhat":83.0302,"yhat":0.3056,"id":"2022","vname":"fare"},{"xhat":92.5986,"yhat":0.3044,"id":"2022","vname":"fare"},{"xhat":120,"yhat":0.3174,"id":"2022","vname":"fare"},{"xhat":152.8587,"yhat":0.2991,"id":"2022","vname":"fare"},{"xhat":247.1005,"yhat":0.2946,"id":"2022","vname":"fare"},{"xhat":512.0607,"yhat":0.3449,"id":"2022","vname":"fare"}],"452":[{"xhat":0,"yhat":0.614,"id":"452","vname":"fare"},{"xhat":6.1793,"yhat":0.6257,"id":"452","vname":"fare"},{"xhat":7.0206,"yhat":0.6559,"id":"452","vname":"fare"},{"xhat":7.0406,"yhat":0.6561,"id":"452","vname":"fare"},{"xhat":7.0407,"yhat":0.6587,"id":"452","vname":"fare"},{"xhat":7.0506,"yhat":0.5777,"id":"452","vname":"fare"},{"xhat":7.1406,"yhat":0.6584,"id":"452","vname":"fare"},{"xhat":7.15,"yhat":0.6167,"id":"452","vname":"fare"},{"xhat":7.1506,"yhat":0.6184,"id":"452","vname":"fare"},{"xhat":7.1613,"yhat":0.6222,"id":"452","vname":"fare"},{"xhat":7.1702,"yhat":0.593,"id":"452","vname":"fare"},{"xhat":7.1711,"yhat":0.5807,"id":"452","vname":"fare"},{"xhat":7.1806,"yhat":0.5875,"id":"452","vname":"fare"},{"xhat":8.0036,"yhat":0.5958,"id":"452","vname":"fare"},{"xhat":8.01,"yhat":0.594,"id":"452","vname":"fare"},{"xhat":8.0715,"yhat":0.5519,"id":"452","vname":"fare"},{"xhat":8.1303,"yhat":0.5438,"id":"452","vname":"fare"},{"xhat":9.0969,"yhat":0.5647,"id":"452","vname":"fare"},{"xhat":10.0903,"yhat":0.5699,"id":"452","vname":"fare"},{"xhat":10.1,"yhat":0.5845,"id":"452","vname":"fare"},{"xhat":11.1,"yhat":0.5936,"id":"452","vname":"fare"},{"xhat":12.1398,"yhat":0.6003,"id":"452","vname":"fare"},{"xhat":13,"yhat":0.5792,"id":"452","vname":"fare"},{"xhat":13.0064,"yhat":0.5792,"id":"452","vname":"fare"},{"xhat":14.0202,"yhat":0.5138,"id":"452","vname":"fare"},{"xhat":14.1,"yhat":0.4795,"id":"452","vname":"fare"},{"xhat":15.0411,"yhat":0.5471,"id":"452","vname":"fare"},{"xhat":15.17,"yhat":0.592,"id":"452","vname":"fare"},{"xhat":16.4972,"yhat":0.5919,"id":"452","vname":"fare"},{"xhat":20.0446,"yhat":0.5604,"id":"452","vname":"fare"},{"xhat":21,"yhat":0.5658,"id":"452","vname":"fare"},{"xhat":22,"yhat":0.5712,"id":"452","vname":"fare"},{"xhat":23.09,"yhat":0.5337,"id":"452","vname":"fare"},{"xhat":25.1679,"yhat":0.5137,"id":"452","vname":"fare"},{"xhat":26,"yhat":0.5159,"id":"452","vname":"fare"},{"xhat":26.11,"yhat":0.5164,"id":"452","vname":"fare"},{"xhat":27.0746,"yhat":0.5134,"id":"452","vname":"fare"},{"xhat":27.18,"yhat":0.5072,"id":"452","vname":"fare"},{"xhat":30,"yhat":0.5021,"id":"452","vname":"fare"},{"xhat":31.0506,"yhat":0.5006,"id":"452","vname":"fare"},{"xhat":34.0113,"yhat":0.491,"id":"452","vname":"fare"},{"xhat":39,"yhat":0.4956,"id":"452","vname":"fare"},{"xhat":42.08,"yhat":0.4821,"id":"452","vname":"fare"},{"xhat":51.1178,"yhat":0.5273,"id":"452","vname":"fare"},{"xhat":53.812,"yhat":0.5534,"id":"452","vname":"fare"},{"xhat":57.1687,"yhat":0.5559,"id":"452","vname":"fare"},{"xhat":65.5824,"yhat":0.5408,"id":"452","vname":"fare"},{"xhat":73.1,"yhat":0.5262,"id":"452","vname":"fare"},{"xhat":78.17,"yhat":0.5432,"id":"452","vname":"fare"},{"xhat":83.0302,"yhat":0.5498,"id":"452","vname":"fare"},{"xhat":92.5986,"yhat":0.5487,"id":"452","vname":"fare"},{"xhat":120,"yhat":0.5521,"id":"452","vname":"fare"},{"xhat":152.8587,"yhat":0.5495,"id":"452","vname":"fare"},{"xhat":247.1005,"yhat":0.5465,"id":"452","vname":"fare"},{"xhat":512.0607,"yhat":0.5478,"id":"452","vname":"fare"}],"515":[{"xhat":0,"yhat":0.2541,"id":"515","vname":"fare"},{"xhat":6.1793,"yhat":0.1108,"id":"515","vname":"fare"},{"xhat":7.0206,"yhat":0.1057,"id":"515","vname":"fare"},{"xhat":7.0406,"yhat":0.1058,"id":"515","vname":"fare"},{"xhat":7.0407,"yhat":0.1042,"id":"515","vname":"fare"},{"xhat":7.0506,"yhat":0.1021,"id":"515","vname":"fare"},{"xhat":7.1406,"yhat":0.1095,"id":"515","vname":"fare"},{"xhat":7.15,"yhat":0.1093,"id":"515","vname":"fare"},{"xhat":7.1506,"yhat":0.1147,"id":"515","vname":"fare"},{"xhat":7.1613,"yhat":0.1086,"id":"515","vname":"fare"},{"xhat":7.1702,"yhat":0.1106,"id":"515","vname":"fare"},{"xhat":7.1711,"yhat":0.107,"id":"515","vname":"fare"},{"xhat":7.1806,"yhat":0.1652,"id":"515","vname":"fare"},{"xhat":8.0036,"yhat":0.1297,"id":"515","vname":"fare"},{"xhat":8.01,"yhat":0.1277,"id":"515","vname":"fare"},{"xhat":8.0715,"yhat":0.1177,"id":"515","vname":"fare"},{"xhat":8.1303,"yhat":0.1177,"id":"515","vname":"fare"},{"xhat":9.0969,"yhat":0.1166,"id":"515","vname":"fare"},{"xhat":10.0903,"yhat":0.114,"id":"515","vname":"fare"},{"xhat":10.1,"yhat":0.1141,"id":"515","vname":"fare"},{"xhat":11.1,"yhat":0.091,"id":"515","vname":"fare"},{"xhat":12.1398,"yhat":0.0865,"id":"515","vname":"fare"},{"xhat":13,"yhat":0.0893,"id":"515","vname":"fare"},{"xhat":13.0064,"yhat":0.0893,"id":"515","vname":"fare"},{"xhat":14.0202,"yhat":0.0848,"id":"515","vname":"fare"},{"xhat":14.1,"yhat":0.0746,"id":"515","vname":"fare"},{"xhat":15.0411,"yhat":0.0875,"id":"515","vname":"fare"},{"xhat":15.17,"yhat":0.0795,"id":"515","vname":"fare"},{"xhat":16.4972,"yhat":0.0786,"id":"515","vname":"fare"},{"xhat":20.0446,"yhat":0.0688,"id":"515","vname":"fare"},{"xhat":21,"yhat":0.067,"id":"515","vname":"fare"},{"xhat":22,"yhat":0.062,"id":"515","vname":"fare"},{"xhat":23.09,"yhat":0.0734,"id":"515","vname":"fare"},{"xhat":25.1679,"yhat":0.0736,"id":"515","vname":"fare"},{"xhat":26,"yhat":0.0713,"id":"515","vname":"fare"},{"xhat":26.11,"yhat":0.1682,"id":"515","vname":"fare"},{"xhat":27.0746,"yhat":0.1601,"id":"515","vname":"fare"},{"xhat":27.18,"yhat":0.1637,"id":"515","vname":"fare"},{"xhat":30,"yhat":0.1742,"id":"515","vname":"fare"},{"xhat":31.0506,"yhat":0.1316,"id":"515","vname":"fare"},{"xhat":34.0113,"yhat":0.1291,"id":"515","vname":"fare"},{"xhat":39,"yhat":0.1257,"id":"515","vname":"fare"},{"xhat":42.08,"yhat":0.129,"id":"515","vname":"fare"},{"xhat":51.1178,"yhat":0.1676,"id":"515","vname":"fare"},{"xhat":53.812,"yhat":0.2397,"id":"515","vname":"fare"},{"xhat":57.1687,"yhat":0.2424,"id":"515","vname":"fare"},{"xhat":65.5824,"yhat":0.1577,"id":"515","vname":"fare"},{"xhat":73.1,"yhat":0.1414,"id":"515","vname":"fare"},{"xhat":78.17,"yhat":0.1632,"id":"515","vname":"fare"},{"xhat":83.0302,"yhat":0.1691,"id":"515","vname":"fare"},{"xhat":92.5986,"yhat":0.1749,"id":"515","vname":"fare"},{"xhat":120,"yhat":0.2006,"id":"515","vname":"fare"},{"xhat":152.8587,"yhat":0.1781,"id":"515","vname":"fare"},{"xhat":247.1005,"yhat":0.174,"id":"515","vname":"fare"},{"xhat":512.0607,"yhat":0.2462,"id":"515","vname":"fare"}],"604":[{"xhat":0,"yhat":0.2024,"id":"604","vname":"fare"},{"xhat":6.1793,"yhat":0.088,"id":"604","vname":"fare"},{"xhat":7.0206,"yhat":0.0855,"id":"604","vname":"fare"},{"xhat":7.0406,"yhat":0.0932,"id":"604","vname":"fare"},{"xhat":7.0407,"yhat":0.0928,"id":"604","vname":"fare"},{"xhat":7.0506,"yhat":0.0888,"id":"604","vname":"fare"},{"xhat":7.1406,"yhat":0.1089,"id":"604","vname":"fare"},{"xhat":7.15,"yhat":0.116,"id":"604","vname":"fare"},{"xhat":7.1506,"yhat":0.14,"id":"604","vname":"fare"},{"xhat":7.1613,"yhat":0.1074,"id":"604","vname":"fare"},{"xhat":7.1702,"yhat":0.1101,"id":"604","vname":"fare"},{"xhat":7.1711,"yhat":0.1097,"id":"604","vname":"fare"},{"xhat":7.1806,"yhat":0.1585,"id":"604","vname":"fare"},{"xhat":8.0036,"yhat":0.1399,"id":"604","vname":"fare"},{"xhat":8.01,"yhat":0.1394,"id":"604","vname":"fare"},{"xhat":8.0715,"yhat":0.1215,"id":"604","vname":"fare"},{"xhat":8.1303,"yhat":0.1215,"id":"604","vname":"fare"},{"xhat":9.0969,"yhat":0.1218,"id":"604","vname":"fare"},{"xhat":10.0903,"yhat":0.1199,"id":"604","vname":"fare"},{"xhat":10.1,"yhat":0.1198,"id":"604","vname":"fare"},{"xhat":11.1,"yhat":0.1191,"id":"604","vname":"fare"},{"xhat":12.1398,"yhat":0.1196,"id":"604","vname":"fare"},{"xhat":13,"yhat":0.108,"id":"604","vname":"fare"},{"xhat":13.0064,"yhat":0.108,"id":"604","vname":"fare"},{"xhat":14.0202,"yhat":0.0903,"id":"604","vname":"fare"},{"xhat":14.1,"yhat":0.0827,"id":"604","vname":"fare"},{"xhat":15.0411,"yhat":0.1096,"id":"604","vname":"fare"},{"xhat":15.17,"yhat":0.0975,"id":"604","vname":"fare"},{"xhat":16.4972,"yhat":0.0884,"id":"604","vname":"fare"},{"xhat":20.0446,"yhat":0.0824,"id":"604","vname":"fare"},{"xhat":21,"yhat":0.0827,"id":"604","vname":"fare"},{"xhat":22,"yhat":0.1061,"id":"604","vname":"fare"},{"xhat":23.09,"yhat":0.0999,"id":"604","vname":"fare"},{"xhat":25.1679,"yhat":0.0997,"id":"604","vname":"fare"},{"xhat":26,"yhat":0.1035,"id":"604","vname":"fare"},{"xhat":26.11,"yhat":0.1509,"id":"604","vname":"fare"},{"xhat":27.0746,"yhat":0.15,"id":"604","vname":"fare"},{"xhat":27.18,"yhat":0.148,"id":"604","vname":"fare"},{"xhat":30,"yhat":0.1522,"id":"604","vname":"fare"},{"xhat":31.0506,"yhat":0.1416,"id":"604","vname":"fare"},{"xhat":34.0113,"yhat":0.1436,"id":"604","vname":"fare"},{"xhat":39,"yhat":0.1456,"id":"604","vname":"fare"},{"xhat":42.08,"yhat":0.1616,"id":"604","vname":"fare"},{"xhat":51.1178,"yhat":0.2053,"id":"604","vname":"fare"},{"xhat":53.812,"yhat":0.3062,"id":"604","vname":"fare"},{"xhat":57.1687,"yhat":0.3115,"id":"604","vname":"fare"},{"xhat":65.5824,"yhat":0.2265,"id":"604","vname":"fare"},{"xhat":73.1,"yhat":0.2141,"id":"604","vname":"fare"},{"xhat":78.17,"yhat":0.2448,"id":"604","vname":"fare"},{"xhat":83.0302,"yhat":0.2563,"id":"604","vname":"fare"},{"xhat":92.5986,"yhat":0.259,"id":"604","vname":"fare"},{"xhat":120,"yhat":0.2748,"id":"604","vname":"fare"},{"xhat":152.8587,"yhat":0.2555,"id":"604","vname":"fare"},{"xhat":247.1005,"yhat":0.2481,"id":"604","vname":"fare"},{"xhat":512.0607,"yhat":0.2927,"id":"604","vname":"fare"}],"865":[{"xhat":0,"yhat":0.2408,"id":"865","vname":"fare"},{"xhat":6.1793,"yhat":0.1077,"id":"865","vname":"fare"},{"xhat":7.0206,"yhat":0.1107,"id":"865","vname":"fare"},{"xhat":7.0406,"yhat":0.1121,"id":"865","vname":"fare"},{"xhat":7.0407,"yhat":0.1289,"id":"865","vname":"fare"},{"xhat":7.0506,"yhat":0.1226,"id":"865","vname":"fare"},{"xhat":7.1406,"yhat":0.1366,"id":"865","vname":"fare"},{"xhat":7.15,"yhat":0.1588,"id":"865","vname":"fare"},{"xhat":7.1506,"yhat":0.1701,"id":"865","vname":"fare"},{"xhat":7.1613,"yhat":0.1445,"id":"865","vname":"fare"},{"xhat":7.1702,"yhat":0.1446,"id":"865","vname":"fare"},{"xhat":7.1711,"yhat":0.1405,"id":"865","vname":"fare"},{"xhat":7.1806,"yhat":0.1653,"id":"865","vname":"fare"},{"xhat":8.0036,"yhat":0.1553,"id":"865","vname":"fare"},{"xhat":8.01,"yhat":0.1535,"id":"865","vname":"fare"},{"xhat":8.0715,"yhat":0.1397,"id":"865","vname":"fare"},{"xhat":8.1303,"yhat":0.1369,"id":"865","vname":"fare"},{"xhat":9.0969,"yhat":0.1616,"id":"865","vname":"fare"},{"xhat":10.0903,"yhat":0.1906,"id":"865","vname":"fare"},{"xhat":10.1,"yhat":0.2033,"id":"865","vname":"fare"},{"xhat":11.1,"yhat":0.2371,"id":"865","vname":"fare"},{"xhat":12.1398,"yhat":0.2514,"id":"865","vname":"fare"},{"xhat":13,"yhat":0.2454,"id":"865","vname":"fare"},{"xhat":13.0064,"yhat":0.2454,"id":"865","vname":"fare"},{"xhat":14.0202,"yhat":0.1563,"id":"865","vname":"fare"},{"xhat":14.1,"yhat":0.1429,"id":"865","vname":"fare"},{"xhat":15.0411,"yhat":0.1894,"id":"865","vname":"fare"},{"xhat":15.17,"yhat":0.1888,"id":"865","vname":"fare"},{"xhat":16.4972,"yhat":0.1908,"id":"865","vname":"fare"},{"xhat":20.0446,"yhat":0.1831,"id":"865","vname":"fare"},{"xhat":21,"yhat":0.1705,"id":"865","vname":"fare"},{"xhat":22,"yhat":0.1783,"id":"865","vname":"fare"},{"xhat":23.09,"yhat":0.1848,"id":"865","vname":"fare"},{"xhat":25.1679,"yhat":0.1929,"id":"865","vname":"fare"},{"xhat":26,"yhat":0.1905,"id":"865","vname":"fare"},{"xhat":26.11,"yhat":0.2457,"id":"865","vname":"fare"},{"xhat":27.0746,"yhat":0.2452,"id":"865","vname":"fare"},{"xhat":27.18,"yhat":0.246,"id":"865","vname":"fare"},{"xhat":30,"yhat":0.2593,"id":"865","vname":"fare"},{"xhat":31.0506,"yhat":0.2641,"id":"865","vname":"fare"},{"xhat":34.0113,"yhat":0.2689,"id":"865","vname":"fare"},{"xhat":39,"yhat":0.2704,"id":"865","vname":"fare"},{"xhat":42.08,"yhat":0.2854,"id":"865","vname":"fare"},{"xhat":51.1178,"yhat":0.3164,"id":"865","vname":"fare"},{"xhat":53.812,"yhat":0.3954,"id":"865","vname":"fare"},{"xhat":57.1687,"yhat":0.3929,"id":"865","vname":"fare"},{"xhat":65.5824,"yhat":0.3264,"id":"865","vname":"fare"},{"xhat":73.1,"yhat":0.313,"id":"865","vname":"fare"},{"xhat":78.17,"yhat":0.3067,"id":"865","vname":"fare"},{"xhat":83.0302,"yhat":0.3082,"id":"865","vname":"fare"},{"xhat":92.5986,"yhat":0.3095,"id":"865","vname":"fare"},{"xhat":120,"yhat":0.3243,"id":"865","vname":"fare"},{"xhat":152.8587,"yhat":0.3056,"id":"865","vname":"fare"},{"xhat":247.1005,"yhat":0.3082,"id":"865","vname":"fare"},{"xhat":512.0607,"yhat":0.3768,"id":"865","vname":"fare"}],"954":[{"xhat":0,"yhat":0.3549,"id":"954","vname":"fare"},{"xhat":6.1793,"yhat":0.2993,"id":"954","vname":"fare"},{"xhat":7.0206,"yhat":0.3008,"id":"954","vname":"fare"},{"xhat":7.0406,"yhat":0.3039,"id":"954","vname":"fare"},{"xhat":7.0407,"yhat":0.3025,"id":"954","vname":"fare"},{"xhat":7.0506,"yhat":0.3016,"id":"954","vname":"fare"},{"xhat":7.1406,"yhat":0.3096,"id":"954","vname":"fare"},{"xhat":7.15,"yhat":0.3118,"id":"954","vname":"fare"},{"xhat":7.1506,"yhat":0.3174,"id":"954","vname":"fare"},{"xhat":7.1613,"yhat":0.3035,"id":"954","vname":"fare"},{"xhat":7.1702,"yhat":0.3035,"id":"954","vname":"fare"},{"xhat":7.1711,"yhat":0.3026,"id":"954","vname":"fare"},{"xhat":7.1806,"yhat":0.3135,"id":"954","vname":"fare"},{"xhat":8.0036,"yhat":0.3086,"id":"954","vname":"fare"},{"xhat":8.01,"yhat":0.3081,"id":"954","vname":"fare"},{"xhat":8.0715,"yhat":0.3132,"id":"954","vname":"fare"},{"xhat":8.1303,"yhat":0.313,"id":"954","vname":"fare"},{"xhat":9.0969,"yhat":0.3266,"id":"954","vname":"fare"},{"xhat":10.0903,"yhat":0.3291,"id":"954","vname":"fare"},{"xhat":10.1,"yhat":0.3268,"id":"954","vname":"fare"},{"xhat":11.1,"yhat":0.3256,"id":"954","vname":"fare"},{"xhat":12.1398,"yhat":0.3276,"id":"954","vname":"fare"},{"xhat":13,"yhat":0.3286,"id":"954","vname":"fare"},{"xhat":13.0064,"yhat":0.3286,"id":"954","vname":"fare"},{"xhat":14.0202,"yhat":0.3345,"id":"954","vname":"fare"},{"xhat":14.1,"yhat":0.3284,"id":"954","vname":"fare"},{"xhat":15.0411,"yhat":0.3518,"id":"954","vname":"fare"},{"xhat":15.17,"yhat":0.3486,"id":"954","vname":"fare"},{"xhat":16.4972,"yhat":0.3477,"id":"954","vname":"fare"},{"xhat":20.0446,"yhat":0.3417,"id":"954","vname":"fare"},{"xhat":21,"yhat":0.3417,"id":"954","vname":"fare"},{"xhat":22,"yhat":0.3415,"id":"954","vname":"fare"},{"xhat":23.09,"yhat":0.352,"id":"954","vname":"fare"},{"xhat":25.1679,"yhat":0.3632,"id":"954","vname":"fare"},{"xhat":26,"yhat":0.3646,"id":"954","vname":"fare"},{"xhat":26.11,"yhat":0.4872,"id":"954","vname":"fare"},{"xhat":27.0746,"yhat":0.4641,"id":"954","vname":"fare"},{"xhat":27.18,"yhat":0.4602,"id":"954","vname":"fare"},{"xhat":30,"yhat":0.4814,"id":"954","vname":"fare"},{"xhat":31.0506,"yhat":0.4382,"id":"954","vname":"fare"},{"xhat":34.0113,"yhat":0.4336,"id":"954","vname":"fare"},{"xhat":39,"yhat":0.4041,"id":"954","vname":"fare"},{"xhat":42.08,"yhat":0.3373,"id":"954","vname":"fare"},{"xhat":51.1178,"yhat":0.3459,"id":"954","vname":"fare"},{"xhat":53.812,"yhat":0.4631,"id":"954","vname":"fare"},{"xhat":57.1687,"yhat":0.4659,"id":"954","vname":"fare"},{"xhat":65.5824,"yhat":0.3278,"id":"954","vname":"fare"},{"xhat":73.1,"yhat":0.3182,"id":"954","vname":"fare"},{"xhat":78.17,"yhat":0.3565,"id":"954","vname":"fare"},{"xhat":83.0302,"yhat":0.3918,"id":"954","vname":"fare"},{"xhat":92.5986,"yhat":0.4181,"id":"954","vname":"fare"},{"xhat":120,"yhat":0.4478,"id":"954","vname":"fare"},{"xhat":152.8587,"yhat":0.3605,"id":"954","vname":"fare"},{"xhat":247.1005,"yhat":0.3403,"id":"954","vname":"fare"},{"xhat":512.0607,"yhat":0.4388,"id":"954","vname":"fare"}]},"parch":{"1225":[{"xhat":0,"yhat":0.3073,"id":"1225","vname":"parch"},{"xhat":1,"yhat":0.2428,"id":"1225","vname":"parch"},{"xhat":2,"yhat":0.2354,"id":"1225","vname":"parch"},{"xhat":3,"yhat":0.2283,"id":"1225","vname":"parch"},{"xhat":9,"yhat":0.2266,"id":"1225","vname":"parch"}],"1270":[{"xhat":0,"yhat":0.8792,"id":"1270","vname":"parch"},{"xhat":1,"yhat":0.9365,"id":"1270","vname":"parch"},{"xhat":2,"yhat":0.9336,"id":"1270","vname":"parch"},{"xhat":3,"yhat":0.9256,"id":"1270","vname":"parch"},{"xhat":9,"yhat":0.8317,"id":"1270","vname":"parch"}],"1430":[{"xhat":0,"yhat":0.2388,"id":"1430","vname":"parch"},{"xhat":1,"yhat":0.3024,"id":"1430","vname":"parch"},{"xhat":2,"yhat":0.2723,"id":"1430","vname":"parch"},{"xhat":3,"yhat":0.2671,"id":"1430","vname":"parch"},{"xhat":9,"yhat":0.2552,"id":"1430","vname":"parch"}],"1534":[{"xhat":0,"yhat":0.1725,"id":"1534","vname":"parch"},{"xhat":1,"yhat":0.2152,"id":"1534","vname":"parch"},{"xhat":2,"yhat":0.1894,"id":"1534","vname":"parch"},{"xhat":3,"yhat":0.1862,"id":"1534","vname":"parch"},{"xhat":9,"yhat":0.1876,"id":"1534","vname":"parch"}],"2022":[{"xhat":0,"yhat":0.2078,"id":"2022","vname":"parch"},{"xhat":1,"yhat":0.2761,"id":"2022","vname":"parch"},{"xhat":2,"yhat":0.2516,"id":"2022","vname":"parch"},{"xhat":3,"yhat":0.248,"id":"2022","vname":"parch"},{"xhat":9,"yhat":0.2306,"id":"2022","vname":"parch"}],"452":[{"xhat":0,"yhat":0.6453,"id":"452","vname":"parch"},{"xhat":1,"yhat":0.585,"id":"452","vname":"parch"},{"xhat":2,"yhat":0.5527,"id":"452","vname":"parch"},{"xhat":3,"yhat":0.5474,"id":"452","vname":"parch"},{"xhat":9,"yhat":0.4651,"id":"452","vname":"parch"}],"515":[{"xhat":0,"yhat":0.1141,"id":"515","vname":"parch"},{"xhat":1,"yhat":0.195,"id":"515","vname":"parch"},{"xhat":2,"yhat":0.2051,"id":"515","vname":"parch"},{"xhat":3,"yhat":0.204,"id":"515","vname":"parch"},{"xhat":9,"yhat":0.194,"id":"515","vname":"parch"}],"604":[{"xhat":0,"yhat":0.1101,"id":"604","vname":"parch"},{"xhat":1,"yhat":0.1464,"id":"604","vname":"parch"},{"xhat":2,"yhat":0.1477,"id":"604","vname":"parch"},{"xhat":3,"yhat":0.1421,"id":"604","vname":"parch"},{"xhat":9,"yhat":0.1388,"id":"604","vname":"parch"}],"865":[{"xhat":0,"yhat":0.1121,"id":"865","vname":"parch"},{"xhat":1,"yhat":0.2754,"id":"865","vname":"parch"},{"xhat":2,"yhat":0.2505,"id":"865","vname":"parch"},{"xhat":3,"yhat":0.2544,"id":"865","vname":"parch"},{"xhat":9,"yhat":0.2445,"id":"865","vname":"parch"}],"954":[{"xhat":0,"yhat":0.3258,"id":"954","vname":"parch"},{"xhat":1,"yhat":0.3652,"id":"954","vname":"parch"},{"xhat":2,"yhat":0.3981,"id":"954","vname":"parch"},{"xhat":3,"yhat":0.3703,"id":"954","vname":"parch"},{"xhat":9,"yhat":0.3542,"id":"954","vname":"parch"}]},"sibsp":{"1225":[{"xhat":0,"yhat":0.3564,"id":"1225","vname":"sibsp"},{"xhat":1,"yhat":0.2428,"id":"1225","vname":"sibsp"},{"xhat":2,"yhat":0.2189,"id":"1225","vname":"sibsp"},{"xhat":3,"yhat":0.1973,"id":"1225","vname":"sibsp"},{"xhat":4,"yhat":0.1843,"id":"1225","vname":"sibsp"},{"xhat":8,"yhat":0.18,"id":"1225","vname":"sibsp"}],"1270":[{"xhat":0,"yhat":0.9463,"id":"1270","vname":"sibsp"},{"xhat":1,"yhat":0.9336,"id":"1270","vname":"sibsp"},{"xhat":2,"yhat":0.9204,"id":"1270","vname":"sibsp"},{"xhat":3,"yhat":0.6964,"id":"1270","vname":"sibsp"},{"xhat":4,"yhat":0.6759,"id":"1270","vname":"sibsp"},{"xhat":8,"yhat":0.6656,"id":"1270","vname":"sibsp"}],"1430":[{"xhat":0,"yhat":0.2388,"id":"1430","vname":"sibsp"},{"xhat":1,"yhat":0.2015,"id":"1430","vname":"sibsp"},{"xhat":2,"yhat":0.1799,"id":"1430","vname":"sibsp"},{"xhat":3,"yhat":0.1998,"id":"1430","vname":"sibsp"},{"xhat":4,"yhat":0.2036,"id":"1430","vname":"sibsp"},{"xhat":8,"yhat":0.201,"id":"1430","vname":"sibsp"}],"1534":[{"xhat":0,"yhat":0.1725,"id":"1534","vname":"sibsp"},{"xhat":1,"yhat":0.1518,"id":"1534","vname":"sibsp"},{"xhat":2,"yhat":0.1423,"id":"1534","vname":"sibsp"},{"xhat":3,"yhat":0.1659,"id":"1534","vname":"sibsp"},{"xhat":4,"yhat":0.1702,"id":"1534","vname":"sibsp"},{"xhat":8,"yhat":0.1682,"id":"1534","vname":"sibsp"}],"2022":[{"xhat":0,"yhat":0.2078,"id":"2022","vname":"sibsp"},{"xhat":1,"yhat":0.1735,"id":"2022","vname":"sibsp"},{"xhat":2,"yhat":0.157,"id":"2022","vname":"sibsp"},{"xhat":3,"yhat":0.1732,"id":"2022","vname":"sibsp"},{"xhat":4,"yhat":0.1761,"id":"2022","vname":"sibsp"},{"xhat":8,"yhat":0.174,"id":"2022","vname":"sibsp"}],"452":[{"xhat":0,"yhat":0.6453,"id":"452","vname":"sibsp"},{"xhat":1,"yhat":0.5558,"id":"452","vname":"sibsp"},{"xhat":2,"yhat":0.5354,"id":"452","vname":"sibsp"},{"xhat":3,"yhat":0.5351,"id":"452","vname":"sibsp"},{"xhat":4,"yhat":0.5288,"id":"452","vname":"sibsp"},{"xhat":8,"yhat":0.5073,"id":"452","vname":"sibsp"}],"515":[{"xhat":0,"yhat":0.1141,"id":"515","vname":"sibsp"},{"xhat":1,"yhat":0.0913,"id":"515","vname":"sibsp"},{"xhat":2,"yhat":0.0964,"id":"515","vname":"sibsp"},{"xhat":3,"yhat":0.1355,"id":"515","vname":"sibsp"},{"xhat":4,"yhat":0.1358,"id":"515","vname":"sibsp"},{"xhat":8,"yhat":0.1358,"id":"515","vname":"sibsp"}],"604":[{"xhat":0,"yhat":0.0928,"id":"604","vname":"sibsp"},{"xhat":1,"yhat":0.1101,"id":"604","vname":"sibsp"},{"xhat":2,"yhat":0.0688,"id":"604","vname":"sibsp"},{"xhat":3,"yhat":0.1041,"id":"604","vname":"sibsp"},{"xhat":4,"yhat":0.1048,"id":"604","vname":"sibsp"},{"xhat":8,"yhat":0.102,"id":"604","vname":"sibsp"}],"865":[{"xhat":0,"yhat":0.1121,"id":"865","vname":"sibsp"},{"xhat":1,"yhat":0.1035,"id":"865","vname":"sibsp"},{"xhat":2,"yhat":0.0953,"id":"865","vname":"sibsp"},{"xhat":3,"yhat":0.1123,"id":"865","vname":"sibsp"},{"xhat":4,"yhat":0.1144,"id":"865","vname":"sibsp"},{"xhat":8,"yhat":0.1118,"id":"865","vname":"sibsp"}],"954":[{"xhat":0,"yhat":0.2591,"id":"954","vname":"sibsp"},{"xhat":1,"yhat":0.3258,"id":"954","vname":"sibsp"},{"xhat":2,"yhat":0.3151,"id":"954","vname":"sibsp"},{"xhat":3,"yhat":0.3071,"id":"954","vname":"sibsp"},{"xhat":4,"yhat":0.2864,"id":"954","vname":"sibsp"},{"xhat":8,"yhat":0.2759,"id":"954","vname":"sibsp"}]}},{"age":[[74],[0.1667]],"fare":[[512.0607],[0]],"parch":[[9],[0]],"sibsp":[[8],[0]]},[{"observation.id":"515","model":"ranger forest","yhat":0.1141,"gender":"male","age":45,"class":"2nd","embarked":"Southampton","fare":10.1,"sibsp":0,"parch":0},{"observation.id":"604","model":"ranger forest","yhat":0.1101,"gender":"male","age":17,"class":"3rd","embarked":"Southampton","fare":7.1701,"sibsp":1,"parch":0},{"observation.id":"1430","model":"ranger forest","yhat":0.2388,"gender":"male","age":25,"class":"engineering crew","embarked":"Southampton","fare":0,"sibsp":0,"parch":0},{"observation.id":"865","model":"ranger forest","yhat":0.1121,"gender":"male","age":20,"class":"3rd","embarked":"Cherbourg","fare":7.0406,"sibsp":0,"parch":0},{"observation.id":"452","model":"ranger forest","yhat":0.6453,"gender":"female","age":17,"class":"3rd","embarked":"Queenstown","fare":7.1408,"sibsp":0,"parch":0},{"observation.id":"1534","model":"ranger forest","yhat":0.1725,"gender":"male","age":38,"class":"victualling crew","embarked":"Southampton","fare":0,"sibsp":0,"parch":0},{"observation.id":"1270","model":"ranger forest","yhat":0.9336,"gender":"female","age":0.8333,"class":"2nd","embarked":"Southampton","fare":27.15,"sibsp":1,"parch":2},{"observation.id":"954","model":"ranger forest","yhat":0.3258,"gender":"male","age":29,"class":"1st","embarked":"Southampton","fare":66.12,"sibsp":1,"parch":0},{"observation.id":"1225","model":"ranger forest","yhat":0.2428,"gender":"male","age":10,"class":"3rd","embarked":"Southampton","fare":14.1,"sibsp":1,"parch":1},{"observation.id":"2022","model":"ranger forest","yhat":0.2078,"gender":"male","age":23,"class":"victualling crew","embarked":"Southampton","fare":0,"sibsp":0,"parch":0}]],"type":"json","container":"svg","options":{"variableNames":["age","fare","sibsp","parch"],"n":4,"yMax":1.05797940220947,"yMin":-0.0285591828673402,"size":2,"alpha":1,"color":"#46bac2","onlyNumerical":true,"facetNcol":2,"scalePlot":true,"chartTitle":"Ceteris Paribus Profiles","labelMargin":60,"showObservations":true,"showRugs":true},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n/* R2D3 Source File:  /Users/runner/work/_temp/Library/ingredients/d3js/colorsDrWhy.js */\nfunction getColors(n, type){\n    // get drWhy palette\n\n    var temp = [\"#8bdcbe\", \"#f05a71\", \"#371ea3\", \"#46bac2\", \"#ae2c87\", \"#ffa58c\", \"#4378bf\"];\n    var ret = [];\n\n    if (type == \"bar\") {\n      switch(n){\n        case 1:\n          return [\"#46bac2\"];\n        case 2:\n          return [\"#8bdcbe\", \"#4378bf\"];\n        case 3:\n          return [\"#8bdcbe\", \"#4378bf\", \"#46bac2\"];\n        case 4:\n          return [\"#46bac2\", \"#371ea3\", \"#8bdcbe\", \"#4378bf\"];\n        case 5:\n          return [\"#8bdcbe\", \"#f05a71\", \"#371ea3\", \"#46bac2\", \"#ffa58c\"];\n        case 6:\n          return [\"#8bdcbe\", \"#f05a71\", \"#371ea3\", \"#46bac2\", \"#ae2c87\", \"#ffa58c\"];\n        case 7:\n          return temp;\n        default:\n          for (var i = 0; i <= n%7; i++) {\n            ret = ret.concat(temp);\n          }\n          return ret;\n      }\n    } else if (type == \"line\") {\n      switch(n){\n        case 1:\n          return [\"#46bac2\"];\n        case 2:\n          return [\"#8bdcbe\", \"#4378bf\"];\n        case 3:\n          return [\"#8bdcbe\", \"#f05a71\", \"#4378bf\"];\n        case 4:\n          return [\"#8bdcbe\", \"#f05a71\", \"#4378bf\", \"#ffa58c\"];\n        case 5:\n          return [\"#8bdcbe\", \"#f05a71\", \"#4378bf\", \"#ae2c87\", \"#ffa58c\"];\n        case 6:\n          return [\"#8bdcbe\", \"#f05a71\", \"#46bac2\", \"#ae2c87\", \"#ffa58c\", \"#4378bf\"];\n        case 7:\n          return temp;\n        default:\n          for (var j = 0; j <= n%7; j++) {\n            ret = ret.concat(temp);\n          }\n          return ret;\n      }\n    } else if (type == \"point\") {\n      switch(n){\n        default:\n          return [\"#371ea3\", \"#46bac2\", \"#ceced9\"];\n      }\n    }\n}\n\nfunction getTickValues(domain) {\n  // find 5 nice ticks with max and min - do better than d3\n\n  var tickValues = d3.ticks(domain[0], domain[1],5);\n\n  switch (tickValues.length){\n    case 3:\n      tickValues.unshift(domain[0]);\n      tickValues.push(domain[1]);\n      break;\n\n    case 4:\n      if(Math.abs(domain[0] - tickValues[0]) < Math.abs(domain[1] - tickValues[3])){\n        tickValues.shift();\n        tickValues.unshift(domain[0]);\n        tickValues.push(domain[1]);\n      } else {\n        tickValues.pop();\n        tickValues.push(domain[1]);\n        tickValues.unshift(domain[0]);\n      }\n      break;\n\n    case 5:\n      tickValues.pop();\n      tickValues.shift();\n      tickValues.push(domain[1]);\n      tickValues.unshift(domain[0]);\n      break;\n\n    case 6:\n      if(Math.abs(domain[0] - tickValues[0]) < Math.abs(domain[1] - tickValues[5])){\n        tickValues.pop();\n        tickValues.shift();\n        tickValues.shift();\n        tickValues.push(domain[1]);\n        tickValues.unshift(domain[0]);\n      } else {\n        tickValues.pop();\n        tickValues.pop();\n        tickValues.shift();\n        tickValues.push(domain[1]);\n        tickValues.unshift(domain[0]);\n      }\n      break;\n\n    case 7:\n      tickValues.pop();\n      tickValues.pop();\n      tickValues.shift();\n      tickValues.shift();\n      tickValues.push(domain[1]);\n      tickValues.unshift(domain[0]);\n      break;\n\n    case 8:\n      if(Math.abs(domain[0] - tickValues[0]) < Math.abs(domain[1] - tickValues[7])){\n        tickValues.pop();\n        tickValues.pop();\n        tickValues.shift();\n        tickValues.shift();\n        tickValues.shift();\n        tickValues.push(domain[1]);\n        tickValues.unshift(domain[0]);\n      } else {\n        tickValues.pop();\n        tickValues.pop();\n        tickValues.pop();\n        tickValues.shift();\n        tickValues.shift();\n        tickValues.push(domain[1]);\n        tickValues.unshift(domain[0]);\n      }\n      break;\n    }\n\n  return tickValues;\n}\n\nfunction calculateTextWidth(text) {\n  // calculate max width of 11px text array\n\n  var temp = svg.selectAll()\n                .data(text)\n                .enter();\n\n  var textWidth = [];\n\n  temp.append(\"text\")\n      .attr(\"class\", \"toRemove\")\n      .text(function(d) { return d;})\n      .style(\"font-size\", \"11px\")\n      .style('font-family', 'Fira Sans, sans-serif')\n      .each(function(d,i) {\n          var thisWidth = this.getComputedTextLength();\n          textWidth.push(thisWidth);\n      });\n\n  svg.selectAll('.toRemove').remove();\n  temp.remove();\n\n  var maxLength = d3.max(textWidth);\n\n  return maxLength;\n}\n\nfunction getTextWidth(text, fontSize, fontFace) {\n  // calculate width of single text\n\n  var canvas = document.createElement('canvas');\n  var context = canvas.getContext('2d');\n  context.font = fontSize + 'px ' + fontFace;\n  return context.measureText(text).width;\n}\n\nfunction wrapText(text, width) {\n  // this function wraps text\n  text.each(function () {\n      var text = d3.select(this).style('font-family', 'Fira Sans, sans-serif'),\n          words = text.text().split(/\\s+/).reverse(),\n          word,\n          line = [],\n          lineNumber = 0,\n          lineHeight = 1, // ems\n          y = text.attr(\"y\"),\n          dy = 0,\n          tspan = text.text(null).append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", dy + \"em\")\n      while (word = words.pop()) {\n          line.push(word);\n          tspan.text(line.join(\" \"));\n          if (tspan.node().getComputedTextLength() > width) {\n              line.pop();\n              tspan.text(line.join(\" \"));\n              line = [word];\n              tspan = text.append(\"tspan\")\n                          .attr(\"x\", 0)\n                          .attr(\"y\", y)\n                          .attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\")\n                          .text(word);\n          }\n      }\n  });\n}\n\n/* R2D3 Source File:  /Users/runner/work/_temp/Library/ingredients/d3js/d3-tip.js */\n/* d3.tip Copyright (c) 2013 Justin Palmer Tooltips for d3.js SVG visualizations */\n/// MADE SOME CHANGES\n\nd3.functor = function functor(v) {\n  return typeof v === \"function\" ? v : function() {\n    return v;\n  };\n};\n\nd3.tip = function() {\n\n  var direction = d3_tip_direction,\n      offset    = d3_tip_offset,\n      html      = d3_tip_html,\n      node      = initNode(),\n      svg       = null,\n      point     = null,\n      target    = null;\n\n  function tip(vis) {\n    svg = getSVGNode(vis)\n    point = svg.createSVGPoint()\n    document.body.appendChild(node)\n  }\n\n  // Public - show the tooltip on the screen\n  //\n  // Returns a tip\n  tip.show = function() {\n    var args = Array.prototype.slice.call(arguments)\n    if(args[args.length - 1] instanceof SVGElement) target = args.pop()\n\n    var content = html.apply(this, args),\n        poffset = offset.apply(this, args),\n        dir     = direction.apply(this, args),\n        nodel   = getNodeEl(),\n        i       = directions.length,\n        coords,\n        scrollTop  = document.documentElement.scrollTop || document.body.scrollTop,\n        scrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft\n\n    /// unclass all directions\n    while(i--) nodel.classed(directions[i], false)\n\n    ////////////////////////////////:::::::::////////////////////////////////\n    // make sure that tip is pointing right direction (not outside of svg) \\\\\n    // 'n' means that tooltip will go north from pointer\n\n    // do not move this code V\n    nodel.html(content)\n          .style('position', 'absolute')\n          .style('opacity', .8)\n          .style('pointer-events', 'all')\n    // do not move this code ^\n\n    var tdir = dir;\n\n    var divDim = node.getBoundingClientRect(),\n        svgDim = svg.getBBox();\n\n    // 20 is for 2x r2d3 margin and 7 was added empiricaly\n    var sh = 20 + svgDim.height;// + 7; // this is modelSTudio plotHeight\n    var sw = 20 + svgDim.width;\n    var dh = divDim.height;\n    var dw = divDim.width;\n    var py = d3.event.pageY;\n    var px = d3.event.pageX;\n\n    // by default put tooltip 'n'\n    var ttop = py - dh - 5;\n    var tleft = px - dw/2;\n    var tdir = \"n\";\n    var tpdd = '6px 6px 13px 6px';\n\n    if (px - dw/2 < 10) {\n      tleft = px + 5;\n      tdir = \"ne\";\n      tpdd = '6px 6px 11px 11px';\n      if (py - dh/2 < 10) {\n        ttop = py - dh/2;\n        tdir = \"e\";\n        tpdd = '6px 6px 6px 13px';\n      } else if (py - dh < 10) {\n        ttop = py + 5;\n        tdir = \"se\";\n        tpdd = '11px 6px 6px 11px';\n      }\n    } else if (px + dw/2 > sw - 10) {\n      tleft = px - dw - 5;\n      ttop = py - dh - 5;\n      tdir = \"nw\";\n      tpdd = '6px 11px 11px 6px';\n      if (py - dh/2 < 10) {\n        ttop = py - dh/2;\n        tdir = \"w\"\n        tpdd = '6px 13px 6px 6px';\n      } else if (py - dh < 10) {\n        ttop = py + 5;\n        tdir = \"sw\";\n        tpdd = '11px 11px 6px 6px';\n      }\n      // because description is to long FIXME/TODO: more cases\n      if (tleft < 5) {\n        ttop = py + 5;\n        tleft = px - dw/2;\n        tdir = \"s\";\n        tpdd = '13px 6px 6px 6px';\n      }\n    } else if (py - dh < 10) {\n      ttop = py + 5;\n      tleft = px - dw/2;\n      tdir = \"s\";\n      tpdd = '13px 6px 6px 6px';\n    }\n\n    nodel.classed(tdir, true)\n          .style('top', (ttop + poffset[0] + scrollTop) + 'px')\n          .style('left', (tleft + poffset[1] + scrollLeft) + 'px')\n          .style('padding', tpdd);\n\n    ////////////////////////////////::::::::://///////////////////////////////\n\n    //safeguard\n    if (dw == 0) {\n      return tip.hide()\n    } else {\n      return tip\n    }\n  }\n\n  // Public - hide the tooltip\n  //\n  // Returns a tip\n  tip.hide = function() {\n    var nodel = getNodeEl()\n    nodel\n      .style('opacity', 0)\n      .style('pointer-events', 'none')\n    return tip\n  }\n\n  // Public: Proxy attr calls to the d3 tip container.  Sets or gets attribute value.\n  //\n  // n - name of the attribute\n  // v - value of the attribute\n  //\n  // Returns tip or attribute value\n  tip.attr = function(n, v) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().attr(n)\n    } else {\n      var args =  Array.prototype.slice.call(arguments)\n      d3.selection.prototype.attr.apply(getNodeEl(), args)\n    }\n\n    return tip\n  }\n\n  // Public: Proxy style calls to the d3 tip container.  Sets or gets a style value.\n  //\n  // n - name of the property\n  // v - value of the property\n  //\n  // Returns tip or style property value\n  tip.style = function(n, v) {\n    // debugger;\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().style(n)\n    } else {\n      var args = Array.prototype.slice.call(arguments);\n      if (args.length === 1) {\n        var styles = args[0];\n        Object.keys(styles).forEach(function(key) {\n          return d3.selection.prototype.style.apply(getNodeEl(), [key, styles[key]]);\n        });\n      }\n    }\n\n    return tip\n  }\n\n  // Public: Set or get the direction of the tooltip\n  //\n  // v - One of n(north), s(south), e(east), or w(west), nw(northwest),\n  //     sw(southwest), ne(northeast) or se(southeast)\n  //\n  // Returns tip or direction\n  tip.direction = function(v) {\n    if (!arguments.length) return direction\n    direction = v == null ? v : d3.functor(v)\n\n    return tip\n  }\n\n  // Public: Sets or gets the offset of the tip\n  //\n  // v - Array of [x, y] offset\n  //\n  // Returns offset or\n  tip.offset = function(v) {\n    if (!arguments.length) return offset\n    offset = v == null ? v : d3.functor(v)\n\n    return tip\n  }\n\n  // Public: sets or gets the html value of the tooltip\n  //\n  // v - String value of the tip\n  //\n  // Returns html value or tip\n  tip.html = function(v) {\n    if (!arguments.length) return html\n    html = v == null ? v : d3.functor(v)\n\n    return tip\n  }\n\n  // Public: destroys the tooltip and removes it from the DOM\n  //\n  // Returns a tip\n  tip.destroy = function() {\n    if(node) {\n      getNodeEl().remove();\n      node = null;\n    }\n    return tip;\n  }\n\n  function d3_tip_direction() { return 'n' }\n  function d3_tip_offset() { return [0, 0] }\n  function d3_tip_html() { return ' ' }\n\n  var direction_callbacks = {\n    n:  direction_n,\n    s:  direction_s,\n    e:  direction_e,\n    w:  direction_w,\n    nw: direction_nw,\n    ne: direction_ne,\n    sw: direction_sw,\n    se: direction_se\n  };\n\n  var directions = Object.keys(direction_callbacks);\n\n  function direction_n() {\n    var bbox = getScreenBBox()\n    return {\n      top:  bbox.n.y - node.offsetHeight,\n      left: bbox.n.x - node.offsetWidth / 2\n    }\n  }\n\n  function direction_s() {\n    var bbox = getScreenBBox()\n    return {\n      top:  bbox.s.y,\n      left: bbox.s.x - node.offsetWidth / 2\n    }\n  }\n\n  function direction_e() {\n    var bbox = getScreenBBox()\n    return {\n      top:  bbox.e.y - node.offsetHeight / 2,\n      left: bbox.e.x\n    }\n  }\n\n  function direction_w() {\n    var bbox = getScreenBBox()\n    return {\n      top:  bbox.w.y - node.offsetHeight / 2,\n      left: bbox.w.x - node.offsetWidth\n    }\n  }\n\n  function direction_nw() {\n    var bbox = getScreenBBox()\n    return {\n      top:  bbox.nw.y - node.offsetHeight,\n      left: bbox.nw.x - node.offsetWidth\n    }\n  }\n\n  function direction_ne() {\n    var bbox = getScreenBBox()\n    return {\n      top:  bbox.ne.y - node.offsetHeight,\n      left: bbox.ne.x\n    }\n  }\n\n  function direction_sw() {\n    var bbox = getScreenBBox()\n    return {\n      top:  bbox.sw.y,\n      left: bbox.sw.x - node.offsetWidth\n    }\n  }\n\n  function direction_se() {\n    var bbox = getScreenBBox()\n    return {\n      top:  bbox.se.y,\n      left: bbox.e.x\n    }\n  }\n\n  function initNode() {\n    var node = d3.select(document.createElement('div'))\n    node\n      .style('position', 'absolute')\n      .style('top', 0)\n      .style('opacity', 0)\n      .style('pointer-events', 'none')\n      .style('box-sizing', 'border-box')\n      .style('line-heigh', 1.1)\n      .style('background', \"#000000\")\n      .style('color', '#fff')\n      .style('font-size', '14px')\n      .style('font-family', \"'Roboto Condensed', sans-serif\");\n\n    return node.node()\n  }\n\n\n  function getSVGNode(el) {\n    el = el.node()\n    if(el.tagName.toLowerCase() === 'svg')\n      return el\n\n    return el.ownerSVGElement\n  }\n\n  function getNodeEl() {\n    if(node === null) {\n      node = initNode();\n      // re-add node to DOM\n      document.body.appendChild(node);\n    };\n    return d3.select(node);\n  }\n\n  // Returns an Object {n, s, e, w, nw, sw, ne, se}\n  function getScreenBBox() {\n    var targetel   = target || d3.event.target;\n\n    while ('undefined' === typeof targetel.getScreenCTM && 'undefined' === targetel.parentNode) {\n        targetel = targetel.parentNode;\n    }\n\n    var bbox       = {},\n        matrix     = targetel.getScreenCTM(),\n        tbbox      = targetel.getBBox(),\n        width      = tbbox.width,\n        height     = tbbox.height,\n        x          = tbbox.x,\n        y          = tbbox.y\n\n    point.x = x\n    point.y = y\n    bbox.nw = point.matrixTransform(matrix)\n    point.x += width\n    bbox.ne = point.matrixTransform(matrix)\n    point.y += height\n    bbox.se = point.matrixTransform(matrix)\n    point.x -= width\n    bbox.sw = point.matrixTransform(matrix)\n    point.y -= height / 2\n    bbox.w  = point.matrixTransform(matrix)\n    point.x += width\n    bbox.e = point.matrixTransform(matrix)\n    point.x -= width / 2\n    point.y -= height / 2\n    bbox.n = point.matrixTransform(matrix)\n    point.y += height\n    bbox.s = point.matrixTransform(matrix)\n\n    return bbox\n  }\n\n  return tip\n};\n\n/* R2D3 Source File:  /Users/runner/work/_temp/Library/ingredients/d3js/hackHead.js */\n// SPECIAL CAUTION NEEDED WHEN EDITING THIS FILE; MAY CAUSE FATAL ERROR\n\nfunction addCssToDocument(css){\n  // this function adds custom css to document head\n  var style = document.createElement('style')\n  style.innerText = css\n  document.head.appendChild(style)\n}\n\n// load tip:after related css (for triangle)\naddCssToDocument(\"d3-tip:after{box-sizing:border-box;display:inline;font-size:10px;width:inherit;\"+\n\"height:inherit;line-height:1;color:rgba(0,0,0,0.8);content:'\\\\25BC';position:absolute;text-align: center;}\"+\n\".d3-tip.n:after{content:'\\\\25BC';position:absolute;margin:0 0 0 0;top:100%;left:50%;text-align:center;transform:translate(-7px,-15px)}\"+\n\".d3-tip.e:after{content:'\\\\25C0';position:absolute;margin:0 0 0 0;top:50%;left:0%;text-align:center;transform:translate(0px,-7px)}\"+\n\".d3-tip.s:after{content:'\\\\25B2';position:absolute;margin:0 0 0 0;top:0%;left:50%;text-align:center;transform:translate(-7px,0px)}\"+\n\".d3-tip.w:after{content:'\\\\25B6';position:absolute;margin:0 0 0 0;top:50%;left:100%;text-align:center;transform:translate(-15px,-7px)}\"+\n\".d3-tip.se:after{content:'\\\\25E4';position:absolute;margin:0 0 0 0;top:0%;left:0%;text-align:center;transform:translate(1px,1px)}\"+\n\".d3-tip.ne:after{content:'\\\\25E3';position:absolute;margin:0 0 0 0;top:100%;left:0%;text-align:center;transform:translate(1px,-15px)}\"+\n\".d3-tip.sw:after{content:'\\\\25E5';position:absolute;margin:0 0 0 0;top:0%;left:100%;text-align:center;transform:translate(-15px,1px)}\"+\n\".d3-tip.nw:after{content:'\\\\25E2';position:absolute;margin:0 0 0 0;top:100%;left:100%;text-align:center;transform:translate(-14px,-16px)};\")\n\n// load Fira Sans fonts from googleapis\naddCssToDocument(\"@font-face{font-family:'Fira Sans';font-style:normal;font-weight:400;font-display:swap;src:local('Fira Sans Regular'),local('FiraSans-Regular'),url(https://fonts.gstatic.com/s/firasans/v10/va9E4kDNxMZdWfMOD5VvmYjLeTY.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Sans';font-style:normal;font-weight:400;font-display:swap;src:local('Fira Sans Regular'),local('FiraSans-Regular'),url(https://fonts.gstatic.com/s/firasans/v10/va9E4kDNxMZdWfMOD5Vvl4jL.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Fira Sans';font-style:normal;font-weight:500;font-display:swap;src:local('Fira Sans Medium'),local('FiraSans-Medium'),url(https://fonts.gstatic.com/s/firasans/v10/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Sans';font-style:normal;font-weight:500;font-display:swap;src:local('Fira Sans Medium'),local('FiraSans-Medium'),url(https://fonts.gstatic.com/s/firasans/v10/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Fira Sans';font-style:normal;font-weight:600;font-display:swap;src:local('Fira Sans SemiBold'),local('FiraSans-SemiBold'),url(https://fonts.gstatic.com/s/firasans/v10/va9B4kDNxMZdWfMOD5VnSKzeSBf6TF0.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Sans';font-style:normal;font-weight:600;font-display:swap;src:local('Fira Sans SemiBold'),local('FiraSans-SemiBold'),url(https://fonts.gstatic.com/s/firasans/v10/va9B4kDNxMZdWfMOD5VnSKzeRhf6.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Fira Sans';font-style:normal;font-weight:700;font-display:swap;src:local('Fira Sans Bold'),local('FiraSans-Bold'),url(https://fonts.gstatic.com/s/firasans/v10/va9B4kDNxMZdWfMOD5VnLK3eSBf6TF0.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Sans';font-style:normal;font-weight:700;font-display:swap;src:local('Fira Sans Bold'),local('FiraSans-Bold'),url(https://fonts.gstatic.com/s/firasans/v10/va9B4kDNxMZdWfMOD5VnLK3eRhf6.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}\")\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  /Users/runner/work/_temp/Library/ingredients/d3js/ceterisParibus.js */\n// load all data\nvar variableNames = options.variableNames, n = options.n;\nvar yMax = options.yMax, yMin = options.yMin;\nvar size = options.size, alpha = options.alpha, color = options.color;\nvar onlyNumerical = options.onlyNumerical, m = options.facetNcol;\nvar chartTitle = options.chartTitle;\nvar showObservations = options.showObservations, showRugs = options.showRugs;\n\nvar pointSize = 3*size/2; // scale point size with size, default is 3\n\nvar plotHeight, plotWidth;\nvar margin = {top: 78, right: 30, bottom: 50, left: 65, inner: 70, inner2: 0};\nvar labelMargin = options.labelMargin;\n\nm = d3.min([n,m]);\n\nif (m != 1) {\n  if (onlyNumerical === true){\n    margin.inner2 = 25;\n  } else {\n    margin.inner2 = labelMargin;\n    margin.left = labelMargin;\n  }\n} else if (onlyNumerical === false) {\n  margin.left = labelMargin;\n}\n\nvar w = width - margin.left - margin.right;\n\nvar plotTop = margin.top, plotLeft = margin.left;\n\nif (options.scalePlot === true) {\n  plotWidth = (w-(m-1)*margin.inner2)/m;\n  plotHeight = 2*plotWidth/3;\n} else {\n  plotHeight = 280;\n  plotWidth = 420;\n}\n\nvar colors = getColors(3, \"point\");\nvar pointColor = colors[0];\nvar lineColor = color;\nvar greyColor = colors[2];\n\n// plot\nceterisParibus(data);\n\n// change font\nsvg.selectAll(\"text\")\n  .style('font-family', 'Fira Sans, sans-serif');\n\nfunction ceterisParibus(data) {\n  var profData = data[0], minMaxData = data[1], obsData = data[2];\n\n  // lines or bars?\n  if (onlyNumerical) {\n    for (let i=0; i<n; i++) {\n      let variableName = variableNames[i];\n      numericalPlot(variableName, profData[variableName],\n                    minMaxData[variableName], obsData, i+1);\n    }\n  } else {\n    for (let i=0; i<n; i++) {\n      let variableName = variableNames[i];\n      categoricalPlot(variableName, profData[variableName], obsData, i+1);\n    }\n  }\n}\n\nfunction numericalPlot(variableName, lData, mData, pData, i) {\n\n  var x = d3.scaleLinear()\n            .range([plotLeft + 10, plotLeft + plotWidth - 10])\n            .domain([mData[1], mData[0]]);\n\n  var y = d3.scaleLinear()\n            .range([plotTop + plotHeight, plotTop])\n            .domain([yMin, yMax]);\n\n  var line = d3.line()\n               .x(d => x(d.xhat))\n               .y(d => y(d.yhat))\n               .curve(d3.curveMonotoneX);\n\n  if (i == 1) {\n      svg.append(\"text\")\n          .attr(\"class\", \"bigTitle\")\n          .attr(\"x\", plotLeft)\n          .attr(\"y\", plotTop - 40)\n          .text(chartTitle);\n  }\n\n  svg.append(\"text\")\n      .attr(\"class\",\"smallTitle\")\n      .attr(\"x\", plotLeft)\n      .attr(\"y\", plotTop - 15)\n      .text(variableName);\n\n  // find 5 nice ticks with max and min - do better than d3\n  var tickValues = getTickValues(x.domain());\n\n  var xAxis = d3.axisBottom(x)\n              .tickValues(tickValues)\n              .tickSizeInner(0)\n              .tickPadding(15);\n\n  xAxis = svg.append(\"g\")\n              .attr(\"class\", \"axisLabel\")\n              .attr(\"transform\", \"translate(0,\"+ (plotTop + plotHeight) + \")\")\n              .call(xAxis);\n\n  var yGrid = svg.append(\"g\")\n             .attr(\"class\", \"grid\")\n             .attr(\"transform\", \"translate(\" + plotLeft + \",0)\")\n             .call(d3.axisLeft(y)\n                    .ticks(10)\n                    .tickSize(-plotWidth)\n                    .tickFormat(\"\")\n            ).call(g => g.select(\".domain\").remove());\n\n  if (i == 1 || i%m == 1) {\n      var yAxis = d3.axisLeft(y)\n              .ticks(5)\n              .tickSize(0);\n\n      yAxis = svg.append(\"g\")\n              .attr(\"class\", \"axisLabel\")\n              .attr(\"transform\",\"translate(\" + plotLeft + \",0)\")\n              .call(yAxis)\n              .call(g => g.select(\".domain\").remove());\n    }\n\n  // make tooltip\n  var tool_tip = d3.tip()\n            .attr(\"class\", \"d3-tip\")\n            .html(function(d, addData) {\n              if(addData !== undefined){\n                return changedTooltipHtml(d, addData);\n              } else {\n                return staticTooltipHtml(d);\n              }\n            });\n\n  svg.call(tool_tip);\n\n  // function to find nearest point on the line\n  var bisectXhat = d3.bisector(d => d.xhat).right;\n\n  // tooltip appear with info nearest to mouseover\n  function appear(data){\n    var x0 = x.invert(d3.mouse(d3.event.currentTarget)[0]),\n        i = bisectXhat(data, x0),\n        d0 = data[i - 1],\n        d1 = data[i],\n        d = x0 - d0.xhat > d1.xhat - x0 ? d1 : d0;\n    let temp = pData.find(el => el[\"observation.id\"] === d.id);\n    tool_tip.show(d, temp);\n  }\n\n  // add lines\n  Object.keys(lData).forEach(function(key) {\n      svg.append(\"path\")\n        .data([lData[key]])\n        .attr(\"class\", \"line \" + variableName)\n        .attr(\"d\", line)\n        .style(\"fill\", \"none\")\n        .style(\"stroke\", lineColor)\n        .style(\"opacity\", alpha)\n        .style(\"stroke-width\", size)\n        .on('mouseover', function(d) {\n\n          d3.select(this)\n            .style(\"stroke\", pointColor)\n            .style(\"stroke-width\", size*1.5);\n\n          // make line and points appear on top\n          this.parentNode.appendChild(this);\n          d3.select(this.parentNode).selectAll(\".point\").each(function() {\n                           this.parentNode.appendChild(this);\n                      });\n\n          // show changed tooltip\n          appear(d);\n        })\n        .on('mouseout', function(d){\n\n          d3.select(this)\n            .style(\"stroke\", lineColor)\n            .style(\"stroke-width\", size);\n\n          // hide changed tooltip\n          tool_tip.hide(d);\n        });\n  });\n\n  if (showObservations === true) {\n\n      // add points\n      svg.selectAll()\n            .data(pData)\n            .enter()\n            .append(\"circle\")\n            .attr(\"class\", \"point\")\n            .attr(\"id\", d => d[\"observation.id\"])\n            .attr(\"cx\", d => x(d[variableName]))\n            .attr(\"cy\", d => y(d.yhat))\n            .attr(\"r\", pointSize)\n            .style(\"stroke-width\", 15)\n            .style(\"stroke\", \"red\")\n            .style(\"stroke-opacity\", 0)\n            .style(\"fill\", pointColor)\n            .on('mouseover', function(d) {\n              tool_tip.show(d);\n          \t\td3.select(this)\n          \t\t\t.attr(\"r\", 2*pointSize);\n          \t})\n            .on('mouseout', function(d) {\n              tool_tip.hide(d);\n          \t\td3.select(this)\n          \t\t\t.attr(\"r\", pointSize);\n          \t});\n    }\n\n  if (showRugs === true) {\n\n    // add rugs\n    svg\n      .selectAll()\n      .data(pData)\n      .enter()\n      .append(\"line\")\n      .attr(\"class\", \"rugLine\")\n      .style(\"stroke\", \"red\")\n      .style(\"stroke-width\", 2)\n      .attr(\"x1\", d => x(d[variableName]))\n      .attr(\"y1\", plotTop + plotHeight)\n      .attr(\"x2\", d => x(d[variableName]))\n      .attr(\"y2\", plotTop + plotHeight - 10);\n  }\n\n  if (i == n) {\n    svg.append(\"text\")\n          .attr(\"class\", \"axisTitle\")\n          .attr(\"transform\", \"rotate(-90)\")\n          .attr(\"y\", 15)\n          .attr(\"x\", -(margin.bottom + plotTop + plotHeight)/2)\n          .attr(\"text-anchor\", \"middle\")\n          .text(\"prediction\");\n  }\n\n  if (i%m !== 0) {\n    plotLeft += (margin.inner2 + plotWidth);\n  }\n  if (i%m === 0) {\n    plotLeft -= (m-1)*(margin.inner2+plotWidth);\n    plotTop += (margin.inner + plotHeight);\n  }\n}\n\nfunction categoricalPlot(variableName, bData, lData, i){\n\n  var x = d3.scaleLinear()\n        .range([plotLeft,  plotLeft + plotWidth])\n        .domain([yMin, yMax]);\n\n  // plot one xAxis per facet column\n  if (i > n - m) {\n   var xAxis = d3.axisBottom(x)\n                .ticks(5)\n                .tickSize(0);\n\n   xAxis = svg.append(\"g\")\n          .attr(\"class\", \"axisLabel\")\n          .attr(\"transform\", \"translate(0,\" + (plotTop + plotHeight) + \")\")\n          .call(xAxis)\n          .call(g => g.select(\".domain\").remove());\n  }\n\n  var y = d3.scaleBand()\n        .rangeRound([plotTop, plotTop + plotHeight])\n        .padding(0.33)\n        .domain(bData.map(d => d.xhat));\n\n  var xGrid = svg.append(\"g\")\n         .attr(\"class\", \"grid\")\n         .attr(\"transform\", \"translate(0,\" + (plotTop + plotHeight) + \")\")\n         .call(d3.axisBottom(x)\n                .ticks(10)\n                .tickSize(-plotHeight)\n                .tickFormat(\"\")\n        ).call(g => g.select(\".domain\").remove());\n\n  var yGrid = svg.append(\"g\")\n         .attr(\"class\", \"grid\")\n         .attr(\"transform\", \"translate(\" + plotLeft + \",0)\")\n         .call(d3.axisLeft(y)\n                .tickSize(-plotWidth)\n                .tickFormat(\"\")\n        ).call(g => g.select(\".domain\").remove());\n\n  var yAxis = d3.axisLeft(y)\n        .tickSize(0);\n\n  yAxis = svg.append(\"g\")\n        .attr(\"class\", \"axisLabel\")\n        .attr(\"transform\",\"translate(\" + (plotLeft - 8) + \",0)\")\n        .call(yAxis)\n        .call(g => g.select(\".domain\").remove());\n\n  // wrap y label text\n  yAxis.selectAll(\"text\").call(wrapText, margin.left - 10);\n\n  svg.append(\"text\")\n        .attr(\"x\", plotLeft)\n        .attr(\"y\", plotTop - 15)\n        .attr(\"class\", \"smallTitle\")\n        .text(variableName + \" = \" + lData[0][variableName]);\n\n  if (i == 1) {\n    svg.append(\"text\")\n          .attr(\"x\", plotLeft)\n          .attr(\"y\", plotTop - 40)\n          .attr(\"class\", \"bigTitle\")\n          .text(chartTitle);\n  }\n\n  var bars = svg.selectAll()\n        .data(bData)\n        .enter()\n        .append(\"g\");\n\n  var fullModel = lData[0].yhat;\n\n  // make tooltip\n  var tool_tip = d3.tip()\n        .attr(\"class\", \"d3-tip\")\n        .html(d => changedTooltipHtml(d, lData[0]));\n\n  svg.call(tool_tip);\n\n  // add bars\n  bars.append(\"rect\")\n        .attr(\"class\", variableName)\n        .attr(\"fill\", lineColor)\n        .attr(\"y\", d => y(d.xhat))\n        .attr(\"height\", y.bandwidth())\n        .attr(\"x\", function(d) {\n          // start ploting the bar left to full model line\n          if (x(d.yhat) < x(fullModel)) {\n            return x(d.yhat);\n          } else {\n            return x(fullModel);\n          }\n        })\n        .attr(\"width\", d => Math.abs(x(d.yhat) - x(fullModel)))\n        .on('mouseover', tool_tip.show)\n        .on('mouseout', tool_tip.hide);\n\n  // add intercept line\n  var minimumY = Number.MAX_VALUE;\n  var maximumY = Number.MIN_VALUE;\n  bars.selectAll(\".\".concat(variableName)).each(function() {\n      if(+this.getAttribute('y') < minimumY) {\n        minimumY = +this.getAttribute('y');\n      }\n      if(+this.getAttribute('y') > maximumY) {\n        maximumY = +this.getAttribute('y');\n      }\n    });\n\n  svg.append(\"line\")\n        .attr(\"class\", \"interceptLine\")\n        .attr(\"x1\", x(fullModel))\n        .attr(\"y1\", minimumY)\n        .attr(\"x2\", x(fullModel))\n        .attr(\"y2\", maximumY + y.bandwidth());\n\n  if (i==n) {\n    svg.append(\"text\")\n        .attr(\"transform\",\n              \"translate(\" + (margin.left + m*plotWidth + (m-1)*margin.inner2 + margin.right)/2 + \" ,\" +\n                             (plotTop + plotHeight + 45) + \")\")\n        .attr(\"class\", \"axisTitle\")\n        .attr(\"text-anchor\", \"middle\")\n        .text(\"prediction\");\n  }\n\n  if (i%m !== 0) {\n    plotLeft += (margin.inner2 + plotWidth);\n  }\n  if (i%m === 0) {\n    plotLeft -= (m-1)*(margin.inner2+plotWidth);\n    plotTop += (margin.inner + plotHeight);\n  }\n}\n\nfunction staticTooltipHtml(d, addData) {\n  // function formats tooltip text\n  var temp = \"\";\n  for (var [k, v] of Object.entries(d)) {\n    if (k === \"yhat\") {\n      k = \"prediction\";\n      temp += \"<center>\" +  k + \": \" + v + \"<\/br>\";\n      temp += \"<\/br>\";\n    } else {\n      temp += \"<center>\" +  k + \": \" + v + \"<\/br>\";\n    }\n  }\n  return temp;\n}\n\nfunction changedTooltipHtml(d, addData) {\n  // function formats tooltip text with update in red\n  var temp = \"<center>\";\n  for (var [k, v] of Object.entries(addData)) {\n    if (k === \"yhat\") {\n      temp += \"prediction:<\/br>\";\n      temp += \"- before\" + \": \" + v + \"<\/br>\";\n      temp += \"- after\" + \": \" + \"<font color = \\\"red\\\">\" + d.yhat + \"<\/br><\/font>\";\n      temp += \"<\/br>\";\n    } else if (k === d.vname) {\n      temp +=  k + \": \" + \"<font color = \\\"red\\\">\"  +  d.xhat + \"<\/br><\/font>\";\n    } else {\n      temp += k + \": \" + v + \"<\/br>\";\n    }\n  }\n  temp += \"<\/center>\";\n  return temp;\n}\n};","style":"/* R2D3 Source File:  /Users/runner/work/_temp/Library/ingredients/d3js/themeDrWhy.css */\ntext {\n  font-family:'Fira Sans';\n  font-style:normal;\n  fill: #371ea3;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\n\n.bigTitle {\n    font-weight: 600;\n    font-size: 18px;\n    text-align: left;\n}\n\n.smallTitle{\n    font-weight: 600;\n    font-size: 13px;\n    text-align: left;\n}\n\n.axisTitle{\n    font-weight: 600;\n    font-size: 13px;\n    text-align: center;\n}\n\n.axisLabel{\n    font-weight:400;\n    font-size: 11px;\n}\n\n.axisLabel .domain{\n    stroke: #371ea3;\n}\n\n.legendTitle{\n    font-weight: 400;\n    font-size: 13px;\n    text-align: left;\n}\n\n.legendLabel{\n    font-weight: 400;\n    font-size: 11px;\n    text-align: left;\n}\n\n.legendBox{\n    fill: #ceced9;\n    opacity: 0.5;\n}\n\n.interceptLine{\n    stroke: #371ea3;\n\tstroke-width: 1px;\n}\n\n.grid .tick line{\n    stroke: #f0f0f4;\n    stroke-width: 1px\n}","version":4,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><span class="r-in"><span></span></span>
<span class="r-in"><span><span class="va">selected_passanger</span> <span class="op">&lt;-</span> <span class="fu"><a href="select_sample.html">select_sample</a></span><span class="op">(</span><span class="va">titanic_imputed</span>, n <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></span>
<span class="r-in"><span><span class="va">cp_rf</span> <span class="op">&lt;-</span> <span class="fu"><a href="ceteris_paribus.html">ceteris_paribus</a></span><span class="op">(</span><span class="va">explain_titanic_rf</span>, <span class="va">selected_passanger</span><span class="op">)</span></span></span>
<span class="r-in"><span></span></span>
<span class="r-in"><span><span class="fu">plotD3</span><span class="op">(</span><span class="va">cp_rf</span>, variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"class"</span>, <span class="st">"embarked"</span>, <span class="st">"gender"</span>, <span class="st">"sibsp"</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>     facet_ncol <span class="op">=</span> <span class="fl">2</span>, variable_type <span class="op">=</span> <span class="st">"categorical"</span>, label_margin <span class="op">=</span> <span class="fl">100</span>, scale_plot <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span></span>
<div id="htmlwidget-d8556aef84fc05c4fa54" style="width:700px;height:432.632880098888px;" class="r2d3 html-widget "></div>
<script type="application/json" data-for="htmlwidget-d8556aef84fc05c4fa54">{"x":{"data":[{"class":[{"xhat":"1st","yhat":0.2738,"vname":"class"},{"xhat":"2nd","yhat":0.1141,"vname":"class"},{"xhat":"3rd","yhat":0.153,"vname":"class"},{"xhat":"deck crew","yhat":0.2565,"vname":"class"},{"xhat":"engineering crew","yhat":0.1708,"vname":"class"},{"xhat":"restaurant staff","yhat":0.152,"vname":"class"},{"xhat":"victualling crew","yhat":0.1631,"vname":"class"}],"embarked":[{"xhat":"Belfast","yhat":0.2178,"vname":"embarked"},{"xhat":"Cherbourg","yhat":0.2321,"vname":"embarked"},{"xhat":"Queenstown","yhat":0.0871,"vname":"embarked"},{"xhat":"Southampton","yhat":0.1141,"vname":"embarked"}],"gender":[{"xhat":"female","yhat":0.8144,"vname":"gender"},{"xhat":"male","yhat":0.1141,"vname":"gender"}],"sibsp":[{"xhat":0,"yhat":0.1141,"vname":"sibsp"},{"xhat":1,"yhat":0.0913,"vname":"sibsp"},{"xhat":2,"yhat":0.0964,"vname":"sibsp"},{"xhat":3,"yhat":0.1355,"vname":"sibsp"},{"xhat":4,"yhat":0.1358,"vname":"sibsp"},{"xhat":8,"yhat":0.1358,"vname":"sibsp"}]},[],[{"observation.id":"515","model":"ranger forest","yhat":0.1141,"gender":"male","age":45,"class":"2nd","embarked":"Southampton","fare":10.1,"sibsp":0,"parch":0}]],"type":"json","container":"svg","options":{"variableNames":["gender","class","embarked","sibsp"],"n":4,"yMax":0.887134541219526,"yMin":0.0143644151988701,"size":2,"alpha":1,"color":"#46bac2","onlyNumerical":false,"facetNcol":2,"scalePlot":true,"chartTitle":"Ceteris Paribus Profiles","labelMargin":100,"showObservations":true,"showRugs":true},"script":"var d3Script = function(d3, r2d3, data, svg, width, height, options, theme, console) {\nthis.d3 = d3;\n/* R2D3 Source File:  /Users/runner/work/_temp/Library/ingredients/d3js/colorsDrWhy.js */\nfunction getColors(n, type){\n    // get drWhy palette\n\n    var temp = [\"#8bdcbe\", \"#f05a71\", \"#371ea3\", \"#46bac2\", \"#ae2c87\", \"#ffa58c\", \"#4378bf\"];\n    var ret = [];\n\n    if (type == \"bar\") {\n      switch(n){\n        case 1:\n          return [\"#46bac2\"];\n        case 2:\n          return [\"#8bdcbe\", \"#4378bf\"];\n        case 3:\n          return [\"#8bdcbe\", \"#4378bf\", \"#46bac2\"];\n        case 4:\n          return [\"#46bac2\", \"#371ea3\", \"#8bdcbe\", \"#4378bf\"];\n        case 5:\n          return [\"#8bdcbe\", \"#f05a71\", \"#371ea3\", \"#46bac2\", \"#ffa58c\"];\n        case 6:\n          return [\"#8bdcbe\", \"#f05a71\", \"#371ea3\", \"#46bac2\", \"#ae2c87\", \"#ffa58c\"];\n        case 7:\n          return temp;\n        default:\n          for (var i = 0; i <= n%7; i++) {\n            ret = ret.concat(temp);\n          }\n          return ret;\n      }\n    } else if (type == \"line\") {\n      switch(n){\n        case 1:\n          return [\"#46bac2\"];\n        case 2:\n          return [\"#8bdcbe\", \"#4378bf\"];\n        case 3:\n          return [\"#8bdcbe\", \"#f05a71\", \"#4378bf\"];\n        case 4:\n          return [\"#8bdcbe\", \"#f05a71\", \"#4378bf\", \"#ffa58c\"];\n        case 5:\n          return [\"#8bdcbe\", \"#f05a71\", \"#4378bf\", \"#ae2c87\", \"#ffa58c\"];\n        case 6:\n          return [\"#8bdcbe\", \"#f05a71\", \"#46bac2\", \"#ae2c87\", \"#ffa58c\", \"#4378bf\"];\n        case 7:\n          return temp;\n        default:\n          for (var j = 0; j <= n%7; j++) {\n            ret = ret.concat(temp);\n          }\n          return ret;\n      }\n    } else if (type == \"point\") {\n      switch(n){\n        default:\n          return [\"#371ea3\", \"#46bac2\", \"#ceced9\"];\n      }\n    }\n}\n\nfunction getTickValues(domain) {\n  // find 5 nice ticks with max and min - do better than d3\n\n  var tickValues = d3.ticks(domain[0], domain[1],5);\n\n  switch (tickValues.length){\n    case 3:\n      tickValues.unshift(domain[0]);\n      tickValues.push(domain[1]);\n      break;\n\n    case 4:\n      if(Math.abs(domain[0] - tickValues[0]) < Math.abs(domain[1] - tickValues[3])){\n        tickValues.shift();\n        tickValues.unshift(domain[0]);\n        tickValues.push(domain[1]);\n      } else {\n        tickValues.pop();\n        tickValues.push(domain[1]);\n        tickValues.unshift(domain[0]);\n      }\n      break;\n\n    case 5:\n      tickValues.pop();\n      tickValues.shift();\n      tickValues.push(domain[1]);\n      tickValues.unshift(domain[0]);\n      break;\n\n    case 6:\n      if(Math.abs(domain[0] - tickValues[0]) < Math.abs(domain[1] - tickValues[5])){\n        tickValues.pop();\n        tickValues.shift();\n        tickValues.shift();\n        tickValues.push(domain[1]);\n        tickValues.unshift(domain[0]);\n      } else {\n        tickValues.pop();\n        tickValues.pop();\n        tickValues.shift();\n        tickValues.push(domain[1]);\n        tickValues.unshift(domain[0]);\n      }\n      break;\n\n    case 7:\n      tickValues.pop();\n      tickValues.pop();\n      tickValues.shift();\n      tickValues.shift();\n      tickValues.push(domain[1]);\n      tickValues.unshift(domain[0]);\n      break;\n\n    case 8:\n      if(Math.abs(domain[0] - tickValues[0]) < Math.abs(domain[1] - tickValues[7])){\n        tickValues.pop();\n        tickValues.pop();\n        tickValues.shift();\n        tickValues.shift();\n        tickValues.shift();\n        tickValues.push(domain[1]);\n        tickValues.unshift(domain[0]);\n      } else {\n        tickValues.pop();\n        tickValues.pop();\n        tickValues.pop();\n        tickValues.shift();\n        tickValues.shift();\n        tickValues.push(domain[1]);\n        tickValues.unshift(domain[0]);\n      }\n      break;\n    }\n\n  return tickValues;\n}\n\nfunction calculateTextWidth(text) {\n  // calculate max width of 11px text array\n\n  var temp = svg.selectAll()\n                .data(text)\n                .enter();\n\n  var textWidth = [];\n\n  temp.append(\"text\")\n      .attr(\"class\", \"toRemove\")\n      .text(function(d) { return d;})\n      .style(\"font-size\", \"11px\")\n      .style('font-family', 'Fira Sans, sans-serif')\n      .each(function(d,i) {\n          var thisWidth = this.getComputedTextLength();\n          textWidth.push(thisWidth);\n      });\n\n  svg.selectAll('.toRemove').remove();\n  temp.remove();\n\n  var maxLength = d3.max(textWidth);\n\n  return maxLength;\n}\n\nfunction getTextWidth(text, fontSize, fontFace) {\n  // calculate width of single text\n\n  var canvas = document.createElement('canvas');\n  var context = canvas.getContext('2d');\n  context.font = fontSize + 'px ' + fontFace;\n  return context.measureText(text).width;\n}\n\nfunction wrapText(text, width) {\n  // this function wraps text\n  text.each(function () {\n      var text = d3.select(this).style('font-family', 'Fira Sans, sans-serif'),\n          words = text.text().split(/\\s+/).reverse(),\n          word,\n          line = [],\n          lineNumber = 0,\n          lineHeight = 1, // ems\n          y = text.attr(\"y\"),\n          dy = 0,\n          tspan = text.text(null).append(\"tspan\").attr(\"x\", 0).attr(\"y\", y).attr(\"dy\", dy + \"em\")\n      while (word = words.pop()) {\n          line.push(word);\n          tspan.text(line.join(\" \"));\n          if (tspan.node().getComputedTextLength() > width) {\n              line.pop();\n              tspan.text(line.join(\" \"));\n              line = [word];\n              tspan = text.append(\"tspan\")\n                          .attr(\"x\", 0)\n                          .attr(\"y\", y)\n                          .attr(\"dy\", ++lineNumber * lineHeight + dy + \"em\")\n                          .text(word);\n          }\n      }\n  });\n}\n\n/* R2D3 Source File:  /Users/runner/work/_temp/Library/ingredients/d3js/d3-tip.js */\n/* d3.tip Copyright (c) 2013 Justin Palmer Tooltips for d3.js SVG visualizations */\n/// MADE SOME CHANGES\n\nd3.functor = function functor(v) {\n  return typeof v === \"function\" ? v : function() {\n    return v;\n  };\n};\n\nd3.tip = function() {\n\n  var direction = d3_tip_direction,\n      offset    = d3_tip_offset,\n      html      = d3_tip_html,\n      node      = initNode(),\n      svg       = null,\n      point     = null,\n      target    = null;\n\n  function tip(vis) {\n    svg = getSVGNode(vis)\n    point = svg.createSVGPoint()\n    document.body.appendChild(node)\n  }\n\n  // Public - show the tooltip on the screen\n  //\n  // Returns a tip\n  tip.show = function() {\n    var args = Array.prototype.slice.call(arguments)\n    if(args[args.length - 1] instanceof SVGElement) target = args.pop()\n\n    var content = html.apply(this, args),\n        poffset = offset.apply(this, args),\n        dir     = direction.apply(this, args),\n        nodel   = getNodeEl(),\n        i       = directions.length,\n        coords,\n        scrollTop  = document.documentElement.scrollTop || document.body.scrollTop,\n        scrollLeft = document.documentElement.scrollLeft || document.body.scrollLeft\n\n    /// unclass all directions\n    while(i--) nodel.classed(directions[i], false)\n\n    ////////////////////////////////:::::::::////////////////////////////////\n    // make sure that tip is pointing right direction (not outside of svg) \\\\\n    // 'n' means that tooltip will go north from pointer\n\n    // do not move this code V\n    nodel.html(content)\n          .style('position', 'absolute')\n          .style('opacity', .8)\n          .style('pointer-events', 'all')\n    // do not move this code ^\n\n    var tdir = dir;\n\n    var divDim = node.getBoundingClientRect(),\n        svgDim = svg.getBBox();\n\n    // 20 is for 2x r2d3 margin and 7 was added empiricaly\n    var sh = 20 + svgDim.height;// + 7; // this is modelSTudio plotHeight\n    var sw = 20 + svgDim.width;\n    var dh = divDim.height;\n    var dw = divDim.width;\n    var py = d3.event.pageY;\n    var px = d3.event.pageX;\n\n    // by default put tooltip 'n'\n    var ttop = py - dh - 5;\n    var tleft = px - dw/2;\n    var tdir = \"n\";\n    var tpdd = '6px 6px 13px 6px';\n\n    if (px - dw/2 < 10) {\n      tleft = px + 5;\n      tdir = \"ne\";\n      tpdd = '6px 6px 11px 11px';\n      if (py - dh/2 < 10) {\n        ttop = py - dh/2;\n        tdir = \"e\";\n        tpdd = '6px 6px 6px 13px';\n      } else if (py - dh < 10) {\n        ttop = py + 5;\n        tdir = \"se\";\n        tpdd = '11px 6px 6px 11px';\n      }\n    } else if (px + dw/2 > sw - 10) {\n      tleft = px - dw - 5;\n      ttop = py - dh - 5;\n      tdir = \"nw\";\n      tpdd = '6px 11px 11px 6px';\n      if (py - dh/2 < 10) {\n        ttop = py - dh/2;\n        tdir = \"w\"\n        tpdd = '6px 13px 6px 6px';\n      } else if (py - dh < 10) {\n        ttop = py + 5;\n        tdir = \"sw\";\n        tpdd = '11px 11px 6px 6px';\n      }\n      // because description is to long FIXME/TODO: more cases\n      if (tleft < 5) {\n        ttop = py + 5;\n        tleft = px - dw/2;\n        tdir = \"s\";\n        tpdd = '13px 6px 6px 6px';\n      }\n    } else if (py - dh < 10) {\n      ttop = py + 5;\n      tleft = px - dw/2;\n      tdir = \"s\";\n      tpdd = '13px 6px 6px 6px';\n    }\n\n    nodel.classed(tdir, true)\n          .style('top', (ttop + poffset[0] + scrollTop) + 'px')\n          .style('left', (tleft + poffset[1] + scrollLeft) + 'px')\n          .style('padding', tpdd);\n\n    ////////////////////////////////::::::::://///////////////////////////////\n\n    //safeguard\n    if (dw == 0) {\n      return tip.hide()\n    } else {\n      return tip\n    }\n  }\n\n  // Public - hide the tooltip\n  //\n  // Returns a tip\n  tip.hide = function() {\n    var nodel = getNodeEl()\n    nodel\n      .style('opacity', 0)\n      .style('pointer-events', 'none')\n    return tip\n  }\n\n  // Public: Proxy attr calls to the d3 tip container.  Sets or gets attribute value.\n  //\n  // n - name of the attribute\n  // v - value of the attribute\n  //\n  // Returns tip or attribute value\n  tip.attr = function(n, v) {\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().attr(n)\n    } else {\n      var args =  Array.prototype.slice.call(arguments)\n      d3.selection.prototype.attr.apply(getNodeEl(), args)\n    }\n\n    return tip\n  }\n\n  // Public: Proxy style calls to the d3 tip container.  Sets or gets a style value.\n  //\n  // n - name of the property\n  // v - value of the property\n  //\n  // Returns tip or style property value\n  tip.style = function(n, v) {\n    // debugger;\n    if (arguments.length < 2 && typeof n === 'string') {\n      return getNodeEl().style(n)\n    } else {\n      var args = Array.prototype.slice.call(arguments);\n      if (args.length === 1) {\n        var styles = args[0];\n        Object.keys(styles).forEach(function(key) {\n          return d3.selection.prototype.style.apply(getNodeEl(), [key, styles[key]]);\n        });\n      }\n    }\n\n    return tip\n  }\n\n  // Public: Set or get the direction of the tooltip\n  //\n  // v - One of n(north), s(south), e(east), or w(west), nw(northwest),\n  //     sw(southwest), ne(northeast) or se(southeast)\n  //\n  // Returns tip or direction\n  tip.direction = function(v) {\n    if (!arguments.length) return direction\n    direction = v == null ? v : d3.functor(v)\n\n    return tip\n  }\n\n  // Public: Sets or gets the offset of the tip\n  //\n  // v - Array of [x, y] offset\n  //\n  // Returns offset or\n  tip.offset = function(v) {\n    if (!arguments.length) return offset\n    offset = v == null ? v : d3.functor(v)\n\n    return tip\n  }\n\n  // Public: sets or gets the html value of the tooltip\n  //\n  // v - String value of the tip\n  //\n  // Returns html value or tip\n  tip.html = function(v) {\n    if (!arguments.length) return html\n    html = v == null ? v : d3.functor(v)\n\n    return tip\n  }\n\n  // Public: destroys the tooltip and removes it from the DOM\n  //\n  // Returns a tip\n  tip.destroy = function() {\n    if(node) {\n      getNodeEl().remove();\n      node = null;\n    }\n    return tip;\n  }\n\n  function d3_tip_direction() { return 'n' }\n  function d3_tip_offset() { return [0, 0] }\n  function d3_tip_html() { return ' ' }\n\n  var direction_callbacks = {\n    n:  direction_n,\n    s:  direction_s,\n    e:  direction_e,\n    w:  direction_w,\n    nw: direction_nw,\n    ne: direction_ne,\n    sw: direction_sw,\n    se: direction_se\n  };\n\n  var directions = Object.keys(direction_callbacks);\n\n  function direction_n() {\n    var bbox = getScreenBBox()\n    return {\n      top:  bbox.n.y - node.offsetHeight,\n      left: bbox.n.x - node.offsetWidth / 2\n    }\n  }\n\n  function direction_s() {\n    var bbox = getScreenBBox()\n    return {\n      top:  bbox.s.y,\n      left: bbox.s.x - node.offsetWidth / 2\n    }\n  }\n\n  function direction_e() {\n    var bbox = getScreenBBox()\n    return {\n      top:  bbox.e.y - node.offsetHeight / 2,\n      left: bbox.e.x\n    }\n  }\n\n  function direction_w() {\n    var bbox = getScreenBBox()\n    return {\n      top:  bbox.w.y - node.offsetHeight / 2,\n      left: bbox.w.x - node.offsetWidth\n    }\n  }\n\n  function direction_nw() {\n    var bbox = getScreenBBox()\n    return {\n      top:  bbox.nw.y - node.offsetHeight,\n      left: bbox.nw.x - node.offsetWidth\n    }\n  }\n\n  function direction_ne() {\n    var bbox = getScreenBBox()\n    return {\n      top:  bbox.ne.y - node.offsetHeight,\n      left: bbox.ne.x\n    }\n  }\n\n  function direction_sw() {\n    var bbox = getScreenBBox()\n    return {\n      top:  bbox.sw.y,\n      left: bbox.sw.x - node.offsetWidth\n    }\n  }\n\n  function direction_se() {\n    var bbox = getScreenBBox()\n    return {\n      top:  bbox.se.y,\n      left: bbox.e.x\n    }\n  }\n\n  function initNode() {\n    var node = d3.select(document.createElement('div'))\n    node\n      .style('position', 'absolute')\n      .style('top', 0)\n      .style('opacity', 0)\n      .style('pointer-events', 'none')\n      .style('box-sizing', 'border-box')\n      .style('line-heigh', 1.1)\n      .style('background', \"#000000\")\n      .style('color', '#fff')\n      .style('font-size', '14px')\n      .style('font-family', \"'Roboto Condensed', sans-serif\");\n\n    return node.node()\n  }\n\n\n  function getSVGNode(el) {\n    el = el.node()\n    if(el.tagName.toLowerCase() === 'svg')\n      return el\n\n    return el.ownerSVGElement\n  }\n\n  function getNodeEl() {\n    if(node === null) {\n      node = initNode();\n      // re-add node to DOM\n      document.body.appendChild(node);\n    };\n    return d3.select(node);\n  }\n\n  // Returns an Object {n, s, e, w, nw, sw, ne, se}\n  function getScreenBBox() {\n    var targetel   = target || d3.event.target;\n\n    while ('undefined' === typeof targetel.getScreenCTM && 'undefined' === targetel.parentNode) {\n        targetel = targetel.parentNode;\n    }\n\n    var bbox       = {},\n        matrix     = targetel.getScreenCTM(),\n        tbbox      = targetel.getBBox(),\n        width      = tbbox.width,\n        height     = tbbox.height,\n        x          = tbbox.x,\n        y          = tbbox.y\n\n    point.x = x\n    point.y = y\n    bbox.nw = point.matrixTransform(matrix)\n    point.x += width\n    bbox.ne = point.matrixTransform(matrix)\n    point.y += height\n    bbox.se = point.matrixTransform(matrix)\n    point.x -= width\n    bbox.sw = point.matrixTransform(matrix)\n    point.y -= height / 2\n    bbox.w  = point.matrixTransform(matrix)\n    point.x += width\n    bbox.e = point.matrixTransform(matrix)\n    point.x -= width / 2\n    point.y -= height / 2\n    bbox.n = point.matrixTransform(matrix)\n    point.y += height\n    bbox.s = point.matrixTransform(matrix)\n\n    return bbox\n  }\n\n  return tip\n};\n\n/* R2D3 Source File:  /Users/runner/work/_temp/Library/ingredients/d3js/hackHead.js */\n// SPECIAL CAUTION NEEDED WHEN EDITING THIS FILE; MAY CAUSE FATAL ERROR\n\nfunction addCssToDocument(css){\n  // this function adds custom css to document head\n  var style = document.createElement('style')\n  style.innerText = css\n  document.head.appendChild(style)\n}\n\n// load tip:after related css (for triangle)\naddCssToDocument(\"d3-tip:after{box-sizing:border-box;display:inline;font-size:10px;width:inherit;\"+\n\"height:inherit;line-height:1;color:rgba(0,0,0,0.8);content:'\\\\25BC';position:absolute;text-align: center;}\"+\n\".d3-tip.n:after{content:'\\\\25BC';position:absolute;margin:0 0 0 0;top:100%;left:50%;text-align:center;transform:translate(-7px,-15px)}\"+\n\".d3-tip.e:after{content:'\\\\25C0';position:absolute;margin:0 0 0 0;top:50%;left:0%;text-align:center;transform:translate(0px,-7px)}\"+\n\".d3-tip.s:after{content:'\\\\25B2';position:absolute;margin:0 0 0 0;top:0%;left:50%;text-align:center;transform:translate(-7px,0px)}\"+\n\".d3-tip.w:after{content:'\\\\25B6';position:absolute;margin:0 0 0 0;top:50%;left:100%;text-align:center;transform:translate(-15px,-7px)}\"+\n\".d3-tip.se:after{content:'\\\\25E4';position:absolute;margin:0 0 0 0;top:0%;left:0%;text-align:center;transform:translate(1px,1px)}\"+\n\".d3-tip.ne:after{content:'\\\\25E3';position:absolute;margin:0 0 0 0;top:100%;left:0%;text-align:center;transform:translate(1px,-15px)}\"+\n\".d3-tip.sw:after{content:'\\\\25E5';position:absolute;margin:0 0 0 0;top:0%;left:100%;text-align:center;transform:translate(-15px,1px)}\"+\n\".d3-tip.nw:after{content:'\\\\25E2';position:absolute;margin:0 0 0 0;top:100%;left:100%;text-align:center;transform:translate(-14px,-16px)};\")\n\n// load Fira Sans fonts from googleapis\naddCssToDocument(\"@font-face{font-family:'Fira Sans';font-style:normal;font-weight:400;font-display:swap;src:local('Fira Sans Regular'),local('FiraSans-Regular'),url(https://fonts.gstatic.com/s/firasans/v10/va9E4kDNxMZdWfMOD5VvmYjLeTY.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Sans';font-style:normal;font-weight:400;font-display:swap;src:local('Fira Sans Regular'),local('FiraSans-Regular'),url(https://fonts.gstatic.com/s/firasans/v10/va9E4kDNxMZdWfMOD5Vvl4jL.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Fira Sans';font-style:normal;font-weight:500;font-display:swap;src:local('Fira Sans Medium'),local('FiraSans-Medium'),url(https://fonts.gstatic.com/s/firasans/v10/va9B4kDNxMZdWfMOD5VnZKveSBf6TF0.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Sans';font-style:normal;font-weight:500;font-display:swap;src:local('Fira Sans Medium'),local('FiraSans-Medium'),url(https://fonts.gstatic.com/s/firasans/v10/va9B4kDNxMZdWfMOD5VnZKveRhf6.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Fira Sans';font-style:normal;font-weight:600;font-display:swap;src:local('Fira Sans SemiBold'),local('FiraSans-SemiBold'),url(https://fonts.gstatic.com/s/firasans/v10/va9B4kDNxMZdWfMOD5VnSKzeSBf6TF0.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Sans';font-style:normal;font-weight:600;font-display:swap;src:local('Fira Sans SemiBold'),local('FiraSans-SemiBold'),url(https://fonts.gstatic.com/s/firasans/v10/va9B4kDNxMZdWfMOD5VnSKzeRhf6.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}@font-face{font-family:'Fira Sans';font-style:normal;font-weight:700;font-display:swap;src:local('Fira Sans Bold'),local('FiraSans-Bold'),url(https://fonts.gstatic.com/s/firasans/v10/va9B4kDNxMZdWfMOD5VnLK3eSBf6TF0.woff2) format('woff2');unicode-range:U+0100-024F,U+0259,U+1E00-1EFF,U+2020,U+20A0-20AB,U+20AD-20CF,U+2113,U+2C60-2C7F,U+A720-A7FF}@font-face{font-family:'Fira Sans';font-style:normal;font-weight:700;font-display:swap;src:local('Fira Sans Bold'),local('FiraSans-Bold'),url(https://fonts.gstatic.com/s/firasans/v10/va9B4kDNxMZdWfMOD5VnLK3eRhf6.woff2) format('woff2');unicode-range:U+0000-00FF,U+0131,U+0152-0153,U+02BB-02BC,U+02C6,U+02DA,U+02DC,U+2000-206F,U+2074,U+20AC,U+2122,U+2191,U+2193,U+2212,U+2215,U+FEFF,U+FFFD}\")\nsvg = d3.select(svg.node());\n/* R2D3 Source File:  /Users/runner/work/_temp/Library/ingredients/d3js/ceterisParibus.js */\n// load all data\nvar variableNames = options.variableNames, n = options.n;\nvar yMax = options.yMax, yMin = options.yMin;\nvar size = options.size, alpha = options.alpha, color = options.color;\nvar onlyNumerical = options.onlyNumerical, m = options.facetNcol;\nvar chartTitle = options.chartTitle;\nvar showObservations = options.showObservations, showRugs = options.showRugs;\n\nvar pointSize = 3*size/2; // scale point size with size, default is 3\n\nvar plotHeight, plotWidth;\nvar margin = {top: 78, right: 30, bottom: 50, left: 65, inner: 70, inner2: 0};\nvar labelMargin = options.labelMargin;\n\nm = d3.min([n,m]);\n\nif (m != 1) {\n  if (onlyNumerical === true){\n    margin.inner2 = 25;\n  } else {\n    margin.inner2 = labelMargin;\n    margin.left = labelMargin;\n  }\n} else if (onlyNumerical === false) {\n  margin.left = labelMargin;\n}\n\nvar w = width - margin.left - margin.right;\n\nvar plotTop = margin.top, plotLeft = margin.left;\n\nif (options.scalePlot === true) {\n  plotWidth = (w-(m-1)*margin.inner2)/m;\n  plotHeight = 2*plotWidth/3;\n} else {\n  plotHeight = 280;\n  plotWidth = 420;\n}\n\nvar colors = getColors(3, \"point\");\nvar pointColor = colors[0];\nvar lineColor = color;\nvar greyColor = colors[2];\n\n// plot\nceterisParibus(data);\n\n// change font\nsvg.selectAll(\"text\")\n  .style('font-family', 'Fira Sans, sans-serif');\n\nfunction ceterisParibus(data) {\n  var profData = data[0], minMaxData = data[1], obsData = data[2];\n\n  // lines or bars?\n  if (onlyNumerical) {\n    for (let i=0; i<n; i++) {\n      let variableName = variableNames[i];\n      numericalPlot(variableName, profData[variableName],\n                    minMaxData[variableName], obsData, i+1);\n    }\n  } else {\n    for (let i=0; i<n; i++) {\n      let variableName = variableNames[i];\n      categoricalPlot(variableName, profData[variableName], obsData, i+1);\n    }\n  }\n}\n\nfunction numericalPlot(variableName, lData, mData, pData, i) {\n\n  var x = d3.scaleLinear()\n            .range([plotLeft + 10, plotLeft + plotWidth - 10])\n            .domain([mData[1], mData[0]]);\n\n  var y = d3.scaleLinear()\n            .range([plotTop + plotHeight, plotTop])\n            .domain([yMin, yMax]);\n\n  var line = d3.line()\n               .x(d => x(d.xhat))\n               .y(d => y(d.yhat))\n               .curve(d3.curveMonotoneX);\n\n  if (i == 1) {\n      svg.append(\"text\")\n          .attr(\"class\", \"bigTitle\")\n          .attr(\"x\", plotLeft)\n          .attr(\"y\", plotTop - 40)\n          .text(chartTitle);\n  }\n\n  svg.append(\"text\")\n      .attr(\"class\",\"smallTitle\")\n      .attr(\"x\", plotLeft)\n      .attr(\"y\", plotTop - 15)\n      .text(variableName);\n\n  // find 5 nice ticks with max and min - do better than d3\n  var tickValues = getTickValues(x.domain());\n\n  var xAxis = d3.axisBottom(x)\n              .tickValues(tickValues)\n              .tickSizeInner(0)\n              .tickPadding(15);\n\n  xAxis = svg.append(\"g\")\n              .attr(\"class\", \"axisLabel\")\n              .attr(\"transform\", \"translate(0,\"+ (plotTop + plotHeight) + \")\")\n              .call(xAxis);\n\n  var yGrid = svg.append(\"g\")\n             .attr(\"class\", \"grid\")\n             .attr(\"transform\", \"translate(\" + plotLeft + \",0)\")\n             .call(d3.axisLeft(y)\n                    .ticks(10)\n                    .tickSize(-plotWidth)\n                    .tickFormat(\"\")\n            ).call(g => g.select(\".domain\").remove());\n\n  if (i == 1 || i%m == 1) {\n      var yAxis = d3.axisLeft(y)\n              .ticks(5)\n              .tickSize(0);\n\n      yAxis = svg.append(\"g\")\n              .attr(\"class\", \"axisLabel\")\n              .attr(\"transform\",\"translate(\" + plotLeft + \",0)\")\n              .call(yAxis)\n              .call(g => g.select(\".domain\").remove());\n    }\n\n  // make tooltip\n  var tool_tip = d3.tip()\n            .attr(\"class\", \"d3-tip\")\n            .html(function(d, addData) {\n              if(addData !== undefined){\n                return changedTooltipHtml(d, addData);\n              } else {\n                return staticTooltipHtml(d);\n              }\n            });\n\n  svg.call(tool_tip);\n\n  // function to find nearest point on the line\n  var bisectXhat = d3.bisector(d => d.xhat).right;\n\n  // tooltip appear with info nearest to mouseover\n  function appear(data){\n    var x0 = x.invert(d3.mouse(d3.event.currentTarget)[0]),\n        i = bisectXhat(data, x0),\n        d0 = data[i - 1],\n        d1 = data[i],\n        d = x0 - d0.xhat > d1.xhat - x0 ? d1 : d0;\n    let temp = pData.find(el => el[\"observation.id\"] === d.id);\n    tool_tip.show(d, temp);\n  }\n\n  // add lines\n  Object.keys(lData).forEach(function(key) {\n      svg.append(\"path\")\n        .data([lData[key]])\n        .attr(\"class\", \"line \" + variableName)\n        .attr(\"d\", line)\n        .style(\"fill\", \"none\")\n        .style(\"stroke\", lineColor)\n        .style(\"opacity\", alpha)\n        .style(\"stroke-width\", size)\n        .on('mouseover', function(d) {\n\n          d3.select(this)\n            .style(\"stroke\", pointColor)\n            .style(\"stroke-width\", size*1.5);\n\n          // make line and points appear on top\n          this.parentNode.appendChild(this);\n          d3.select(this.parentNode).selectAll(\".point\").each(function() {\n                           this.parentNode.appendChild(this);\n                      });\n\n          // show changed tooltip\n          appear(d);\n        })\n        .on('mouseout', function(d){\n\n          d3.select(this)\n            .style(\"stroke\", lineColor)\n            .style(\"stroke-width\", size);\n\n          // hide changed tooltip\n          tool_tip.hide(d);\n        });\n  });\n\n  if (showObservations === true) {\n\n      // add points\n      svg.selectAll()\n            .data(pData)\n            .enter()\n            .append(\"circle\")\n            .attr(\"class\", \"point\")\n            .attr(\"id\", d => d[\"observation.id\"])\n            .attr(\"cx\", d => x(d[variableName]))\n            .attr(\"cy\", d => y(d.yhat))\n            .attr(\"r\", pointSize)\n            .style(\"stroke-width\", 15)\n            .style(\"stroke\", \"red\")\n            .style(\"stroke-opacity\", 0)\n            .style(\"fill\", pointColor)\n            .on('mouseover', function(d) {\n              tool_tip.show(d);\n          \t\td3.select(this)\n          \t\t\t.attr(\"r\", 2*pointSize);\n          \t})\n            .on('mouseout', function(d) {\n              tool_tip.hide(d);\n          \t\td3.select(this)\n          \t\t\t.attr(\"r\", pointSize);\n          \t});\n    }\n\n  if (showRugs === true) {\n\n    // add rugs\n    svg\n      .selectAll()\n      .data(pData)\n      .enter()\n      .append(\"line\")\n      .attr(\"class\", \"rugLine\")\n      .style(\"stroke\", \"red\")\n      .style(\"stroke-width\", 2)\n      .attr(\"x1\", d => x(d[variableName]))\n      .attr(\"y1\", plotTop + plotHeight)\n      .attr(\"x2\", d => x(d[variableName]))\n      .attr(\"y2\", plotTop + plotHeight - 10);\n  }\n\n  if (i == n) {\n    svg.append(\"text\")\n          .attr(\"class\", \"axisTitle\")\n          .attr(\"transform\", \"rotate(-90)\")\n          .attr(\"y\", 15)\n          .attr(\"x\", -(margin.bottom + plotTop + plotHeight)/2)\n          .attr(\"text-anchor\", \"middle\")\n          .text(\"prediction\");\n  }\n\n  if (i%m !== 0) {\n    plotLeft += (margin.inner2 + plotWidth);\n  }\n  if (i%m === 0) {\n    plotLeft -= (m-1)*(margin.inner2+plotWidth);\n    plotTop += (margin.inner + plotHeight);\n  }\n}\n\nfunction categoricalPlot(variableName, bData, lData, i){\n\n  var x = d3.scaleLinear()\n        .range([plotLeft,  plotLeft + plotWidth])\n        .domain([yMin, yMax]);\n\n  // plot one xAxis per facet column\n  if (i > n - m) {\n   var xAxis = d3.axisBottom(x)\n                .ticks(5)\n                .tickSize(0);\n\n   xAxis = svg.append(\"g\")\n          .attr(\"class\", \"axisLabel\")\n          .attr(\"transform\", \"translate(0,\" + (plotTop + plotHeight) + \")\")\n          .call(xAxis)\n          .call(g => g.select(\".domain\").remove());\n  }\n\n  var y = d3.scaleBand()\n        .rangeRound([plotTop, plotTop + plotHeight])\n        .padding(0.33)\n        .domain(bData.map(d => d.xhat));\n\n  var xGrid = svg.append(\"g\")\n         .attr(\"class\", \"grid\")\n         .attr(\"transform\", \"translate(0,\" + (plotTop + plotHeight) + \")\")\n         .call(d3.axisBottom(x)\n                .ticks(10)\n                .tickSize(-plotHeight)\n                .tickFormat(\"\")\n        ).call(g => g.select(\".domain\").remove());\n\n  var yGrid = svg.append(\"g\")\n         .attr(\"class\", \"grid\")\n         .attr(\"transform\", \"translate(\" + plotLeft + \",0)\")\n         .call(d3.axisLeft(y)\n                .tickSize(-plotWidth)\n                .tickFormat(\"\")\n        ).call(g => g.select(\".domain\").remove());\n\n  var yAxis = d3.axisLeft(y)\n        .tickSize(0);\n\n  yAxis = svg.append(\"g\")\n        .attr(\"class\", \"axisLabel\")\n        .attr(\"transform\",\"translate(\" + (plotLeft - 8) + \",0)\")\n        .call(yAxis)\n        .call(g => g.select(\".domain\").remove());\n\n  // wrap y label text\n  yAxis.selectAll(\"text\").call(wrapText, margin.left - 10);\n\n  svg.append(\"text\")\n        .attr(\"x\", plotLeft)\n        .attr(\"y\", plotTop - 15)\n        .attr(\"class\", \"smallTitle\")\n        .text(variableName + \" = \" + lData[0][variableName]);\n\n  if (i == 1) {\n    svg.append(\"text\")\n          .attr(\"x\", plotLeft)\n          .attr(\"y\", plotTop - 40)\n          .attr(\"class\", \"bigTitle\")\n          .text(chartTitle);\n  }\n\n  var bars = svg.selectAll()\n        .data(bData)\n        .enter()\n        .append(\"g\");\n\n  var fullModel = lData[0].yhat;\n\n  // make tooltip\n  var tool_tip = d3.tip()\n        .attr(\"class\", \"d3-tip\")\n        .html(d => changedTooltipHtml(d, lData[0]));\n\n  svg.call(tool_tip);\n\n  // add bars\n  bars.append(\"rect\")\n        .attr(\"class\", variableName)\n        .attr(\"fill\", lineColor)\n        .attr(\"y\", d => y(d.xhat))\n        .attr(\"height\", y.bandwidth())\n        .attr(\"x\", function(d) {\n          // start ploting the bar left to full model line\n          if (x(d.yhat) < x(fullModel)) {\n            return x(d.yhat);\n          } else {\n            return x(fullModel);\n          }\n        })\n        .attr(\"width\", d => Math.abs(x(d.yhat) - x(fullModel)))\n        .on('mouseover', tool_tip.show)\n        .on('mouseout', tool_tip.hide);\n\n  // add intercept line\n  var minimumY = Number.MAX_VALUE;\n  var maximumY = Number.MIN_VALUE;\n  bars.selectAll(\".\".concat(variableName)).each(function() {\n      if(+this.getAttribute('y') < minimumY) {\n        minimumY = +this.getAttribute('y');\n      }\n      if(+this.getAttribute('y') > maximumY) {\n        maximumY = +this.getAttribute('y');\n      }\n    });\n\n  svg.append(\"line\")\n        .attr(\"class\", \"interceptLine\")\n        .attr(\"x1\", x(fullModel))\n        .attr(\"y1\", minimumY)\n        .attr(\"x2\", x(fullModel))\n        .attr(\"y2\", maximumY + y.bandwidth());\n\n  if (i==n) {\n    svg.append(\"text\")\n        .attr(\"transform\",\n              \"translate(\" + (margin.left + m*plotWidth + (m-1)*margin.inner2 + margin.right)/2 + \" ,\" +\n                             (plotTop + plotHeight + 45) + \")\")\n        .attr(\"class\", \"axisTitle\")\n        .attr(\"text-anchor\", \"middle\")\n        .text(\"prediction\");\n  }\n\n  if (i%m !== 0) {\n    plotLeft += (margin.inner2 + plotWidth);\n  }\n  if (i%m === 0) {\n    plotLeft -= (m-1)*(margin.inner2+plotWidth);\n    plotTop += (margin.inner + plotHeight);\n  }\n}\n\nfunction staticTooltipHtml(d, addData) {\n  // function formats tooltip text\n  var temp = \"\";\n  for (var [k, v] of Object.entries(d)) {\n    if (k === \"yhat\") {\n      k = \"prediction\";\n      temp += \"<center>\" +  k + \": \" + v + \"<\/br>\";\n      temp += \"<\/br>\";\n    } else {\n      temp += \"<center>\" +  k + \": \" + v + \"<\/br>\";\n    }\n  }\n  return temp;\n}\n\nfunction changedTooltipHtml(d, addData) {\n  // function formats tooltip text with update in red\n  var temp = \"<center>\";\n  for (var [k, v] of Object.entries(addData)) {\n    if (k === \"yhat\") {\n      temp += \"prediction:<\/br>\";\n      temp += \"- before\" + \": \" + v + \"<\/br>\";\n      temp += \"- after\" + \": \" + \"<font color = \\\"red\\\">\" + d.yhat + \"<\/br><\/font>\";\n      temp += \"<\/br>\";\n    } else if (k === d.vname) {\n      temp +=  k + \": \" + \"<font color = \\\"red\\\">\"  +  d.xhat + \"<\/br><\/font>\";\n    } else {\n      temp += k + \": \" + v + \"<\/br>\";\n    }\n  }\n  temp += \"<\/center>\";\n  return temp;\n}\n};","style":"/* R2D3 Source File:  /Users/runner/work/_temp/Library/ingredients/d3js/themeDrWhy.css */\ntext {\n  font-family:'Fira Sans';\n  font-style:normal;\n  fill: #371ea3;\n  -webkit-user-select: none;\n  -moz-user-select: none;\n  -ms-user-select: none;\n  -o-user-select: none;\n  user-select: none;\n}\n\n.bigTitle {\n    font-weight: 600;\n    font-size: 18px;\n    text-align: left;\n}\n\n.smallTitle{\n    font-weight: 600;\n    font-size: 13px;\n    text-align: left;\n}\n\n.axisTitle{\n    font-weight: 600;\n    font-size: 13px;\n    text-align: center;\n}\n\n.axisLabel{\n    font-weight:400;\n    font-size: 11px;\n}\n\n.axisLabel .domain{\n    stroke: #371ea3;\n}\n\n.legendTitle{\n    font-weight: 400;\n    font-size: 13px;\n    text-align: left;\n}\n\n.legendLabel{\n    font-weight: 400;\n    font-size: 11px;\n    text-align: left;\n}\n\n.legendBox{\n    fill: #ceced9;\n    opacity: 0.5;\n}\n\n.interceptLine{\n    stroke: #371ea3;\n\tstroke-width: 1px;\n}\n\n.grid .tick line{\n    stroke: #f0f0f4;\n    stroke-width: 1px\n}","version":4,"theme":{"default":{"background":"#FFFFFF","foreground":"#000000"},"runtime":null},"useShadow":true},"evals":[],"jsHooks":[]}</script><span class="r-in"><span><span class="co"># }</span></span></span>
<span class="r-in"><span></span></span>
</code></pre></div>
    </div>
  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p>Developed by .</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>.</p>
</div>

      </footer></div>

  


  </body></html>

